import{a as F,j as R}from"./index-CLqmclCd.js";import{d as q,f as b,c as V,o as U,R as l,S as s,k as p,Z as c,_ as i,F as T,W as w,V as a,$ as y,Y as r,G as v,u as D,a0 as j,X as Q}from"./vue-vendor-DPw1dQYc.js";import{u as W}from"./parser.store-C-xrBLcz.js";import{C as N}from"./CodeEditorWrapper-DN65gIVr.js";import{m as X,_ as Y,z as Z,T as A,G as H}from"./ui-vendor-DDlYs5wr.js";import"./utils-vendor-DcTsQz_8.js";const K={class:"parser-selector-view"},ee={class:"selector-header"},te={class:"selector-content"},se={class:"parser-list-panel"},oe={class:"panel-header"},ne={class:"parser-groups"},re={key:0,class:"parser-group"},le={class:"parser-list"},ae=["onClick"],ie={class:"parser-item-header"},ue={class:"parser-name"},ce={key:0,class:"parser-description"},de={key:1,class:"parser-group"},pe={class:"parser-list"},ve=["onClick"],_e={class:"parser-item-header"},fe={class:"parser-name"},he={key:0,class:"parser-description"},ye={class:"parser-detail-panel"},ge={key:0,class:"no-selection"},me={key:1,class:"parser-details"},ke={class:"detail-header"},Ce={class:"header-tags"},xe={key:0,class:"detail-description"},Pe={class:"code-section"},Se={class:"code-container"},be={key:0,class:"regex-display"},Te={key:1,class:"test-cases-section"},we={class:"test-cases-container"},Be={class:"test-case-header"},ze={class:"test-case-name"},Ie={class:"test-case-body"},Ve={class:"test-field"},je={class:"field-value"},Ne={key:0,class:"test-field"},Oe={class:"field-value output"},$e={key:1,class:"test-field"},Ee={class:"field-value expected"},Ge={class:"detail-actions"},Je=q({__name:"ParserSelectorView",setup(Le){const g=Q(),h=W(),m=b(""),o=b(null),_=b(h.getSelectionContext()),x=V(()=>{let t=h.parsers;const e=_.value?.filterType,u=_.value?.filterOutputType;if(e&&(t=t.filter(f=>f.type===e)),u&&(t=t.filter(f=>f.outputType===u)),m.value){const f=m.value.toLowerCase();t=t.filter(d=>d.name.toLowerCase().includes(f)||d.description?.toLowerCase().includes(f)||d.tags.some(S=>S.toLowerCase().includes(f)))}return t}),k=V(()=>{const t=x.value;return{builtIn:t.filter(e=>e.isBuiltIn),user:t.filter(e=>!e.isBuiltIn)}});function P(t){switch(t){case"regex":return"blue";case"javascript":return"orange";case"python":return"green";default:return"default"}}function B(t){o.value=t}function O(t){const e=t.config;let u=e.pattern;return e.flags&&(u+=`
Flags: ${e.flags}`),e.captureGroup!==void 0&&(u+=`
Capture Group: ${e.captureGroup}`),u}function $(t){return t.config.code}function E(t){return t.config.code}function z(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t;if(typeof t=="object")try{return JSON.stringify(t,null,2)}catch{return String(t)}return String(t)}function I(t,e){return typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<1e-4:typeof t=="object"&&typeof e=="object"?JSON.stringify(t)===JSON.stringify(e):t===e}function G(){if(!o.value||!_.value)return;const t=_.value.returnPath,e=_.value.context;h.clearSelectionContext(),g.push({path:t,query:{selectedParserId:o.value.id,context:e}})}function J(){if(!_.value){g.push("/parsers");return}const t=_.value.returnPath;h.clearSelectionContext(),g.push(t)}function L(){o.value&&!o.value.isBuiltIn&&g.push(`/parsers/${o.value.id}/edit`)}function M(){o.value}return U(async()=>{if(h.parsers.length===0&&await h.loadParsers(),_.value?.currentValue){const t=h.parsers.find(e=>e.id===_.value.currentValue);t&&(o.value=t)}else x.value.length>0&&(o.value=x.value[0])}),(t,e)=>{const u=X,f=Y,d=A,S=Z;return r(),l("div",K,[s("div",ee,[e[2]||(e[2]=s("h1",null,"Select Parser",-1)),p(u,{type:"text",size:"large",onClick:J},{icon:c(()=>[p(D(H))]),default:c(()=>[e[1]||(e[1]=v(" Cancel "))]),_:1,__:[1]})]),s("div",te,[s("div",se,[s("div",oe,[e[3]||(e[3]=s("h3",null,"Select Parser",-1)),p(f,{value:m.value,"onUpdate:value":e[0]||(e[0]=n=>m.value=n),placeholder:"Search parsers...","allow-clear":"",style:{"margin-bottom":"16px"}},null,8,["value"])]),s("div",ne,[k.value.builtIn.length>0?(r(),l("div",re,[e[4]||(e[4]=s("div",{class:"group-header"},"Built-in Parsers",-1)),s("div",le,[(r(!0),l(T,null,w(k.value.builtIn,n=>(r(),l("div",{key:n.id,class:j(["parser-item",{active:o.value?.id===n.id}]),onClick:C=>B(n)},[s("div",ie,[s("span",ue,a(n.name),1),p(d,{color:P(n.type),size:"small"},{default:c(()=>[v(a(n.type),1)]),_:2},1032,["color"])]),n.description?(r(),l("div",ce,a(n.description),1)):i("",!0)],10,ae))),128))])])):i("",!0),k.value.user.length>0?(r(),l("div",de,[e[5]||(e[5]=s("div",{class:"group-header"},"Custom Parsers",-1)),s("div",pe,[(r(!0),l(T,null,w(k.value.user,n=>(r(),l("div",{key:n.id,class:j(["parser-item",{active:o.value?.id===n.id}]),onClick:C=>B(n)},[s("div",_e,[s("span",fe,a(n.name),1),p(d,{color:P(n.type),size:"small"},{default:c(()=>[v(a(n.type),1)]),_:2},1032,["color"])]),n.description?(r(),l("div",he,a(n.description),1)):i("",!0)],10,ve))),128))])])):i("",!0)])]),s("div",ye,[o.value?(r(),l("div",me,[s("div",ke,[s("h2",null,a(o.value.name),1),s("div",Ce,[p(d,{color:P(o.value.type)},{default:c(()=>[v(a(o.value.type.toUpperCase()),1)]),_:1},8,["color"]),p(d,null,{default:c(()=>[v(a(o.value.outputType),1)]),_:1}),o.value.isBuiltIn?(r(),y(d,{key:0,color:"blue"},{default:c(()=>e[6]||(e[6]=[v("Built-in")])),_:1,__:[6]})):i("",!0)])]),o.value.description?(r(),l("div",xe,a(o.value.description),1)):i("",!0),s("div",Pe,[s("h3",null,a(o.value.type==="regex"?"Pattern":"Code"),1),s("div",Se,[o.value.type==="regex"?(r(),l("div",be,[s("pre",null,a(O(o.value)),1)])):o.value.type==="javascript"?(r(),y(N,{key:1,value:$(o.value),languages:[["javascript","JavaScript"]],"read-only":!0,"line-nums":!0,theme:"github-dark",height:"300px",width:"100%","font-size":"13px","copy-code":!0,header:!1},null,8,["value"])):o.value.type==="python"?(r(),y(N,{key:2,value:E(o.value),languages:[["python","Python"]],"read-only":!0,"line-nums":!0,theme:"github-dark",height:"300px",width:"100%","font-size":"13px","copy-code":!0,header:!1},null,8,["value"])):i("",!0)])]),o.value.testCases&&o.value.testCases.length>0?(r(),l("div",Te,[s("h3",null,"Test Cases ("+a(o.value.testCases.length)+")",1),s("div",we,[(r(!0),l(T,null,w(o.value.testCases,(n,C)=>(r(),l("div",{key:C,class:"test-case"},[s("div",Be,[s("span",ze,a(n.name||`Test Case ${C+1}`),1)]),s("div",Ie,[s("div",Ve,[e[7]||(e[7]=s("span",{class:"field-label"},"Input:",-1)),s("code",je,a(n.input),1)]),n.output!==void 0?(r(),l("div",Ne,[e[8]||(e[8]=s("span",{class:"field-label"},"Output:",-1)),s("code",Oe,a(z(n.output)),1)])):i("",!0),n.expected!==void 0?(r(),l("div",$e,[e[9]||(e[9]=s("span",{class:"field-label"},"Expected:",-1)),s("code",Ee,a(z(n.expected)),1),n.output!==void 0?(r(),y(d,{key:0,color:I(n.output,n.expected)?"success":"error",size:"small",style:{"margin-left":"8px"}},{default:c(()=>[v(a(I(n.output,n.expected)?"Match":"Mismatch"),1)]),_:2},1032,["color"])):i("",!0)])):i("",!0)])]))),128))])])):i("",!0),s("div",Ge,[p(u,{type:"primary",size:"large",onClick:G},{default:c(()=>e[10]||(e[10]=[v(" Select This Parser ")])),_:1,__:[10]}),o.value.isBuiltIn?i("",!0):(r(),y(u,{key:0,size:"large",onClick:L},{default:c(()=>e[11]||(e[11]=[v(" Edit Parser ")])),_:1,__:[11]})),p(u,{size:"large",onClick:M},{default:c(()=>e[12]||(e[12]=[v(" Test Parser ")])),_:1,__:[12]})])])):(r(),l("div",ge,[p(S,{description:"Select a parser to view details"})]))])])])}}}),Qe=R(Je,[["__scopeId","data-v-d270bfdf"]]);export{Qe as default};
