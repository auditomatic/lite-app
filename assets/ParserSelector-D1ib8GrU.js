import{d as P,c as T,o as S,a1 as b,X as B,R as h,Y as d,$ as g,S as m,k as _,V as i,Z as o,G as n,_ as w,B as v}from"./vue-vendor-Cg89ltm_.js";import{u as q}from"./parser.store-DHhq7MF7.js";import{T as I,m as z}from"./ui-vendor-COTxn_WH.js";import{h as N}from"./index-Bva3c6Vs.js";const O={class:"parser-selector"},R={class:"parser-info"},M={class:"parser-name"},j={class:"parser-actions"},D=P({__name:"ParserSelector",props:{modelValue:{},placeholder:{default:"Select Parser"},allowClear:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},filterType:{default:null},filterOutputType:{default:null},context:{default:"default"}},emits:["update:modelValue","change"],setup(C,{emit:V}){const t=C,u=V,y=B(),s=b(),l=q(),r=T(()=>t.modelValue&&l.parsers.find(e=>e.id===t.modelValue)||null);function k(e){switch(e){case"regex":return"blue";case"javascript":return"orange";case"python":return"green";default:return"default"}}function p(){l.setSelectionContext({returnPath:s.fullPath,context:t.context,currentValue:t.modelValue,filterType:t.filterType,filterOutputType:t.filterOutputType}),y.push("/parsers/select")}function x(){u("update:modelValue",null),u("change",null,null)}return S(async()=>{if(l.parsers.length===0&&await l.loadParsers(),s.query.selectedParserId&&s.query.context===t.context){const e=s.query.selectedParserId,a=l.parsers.find(c=>c.id===e);a&&(u("update:modelValue",e),u("change",e,a)),y.replace({...s,query:{...s.query,selectedParserId:void 0,context:void 0}})}}),(e,a)=>{const c=I,f=z;return d(),h("div",O,[r.value?(d(),h("div",{key:0,class:"selected-parser",onClick:p},[m("div",R,[m("span",M,i(r.value.name),1),_(c,{color:k(r.value.type),size:"small"},{default:o(()=>[n(i(r.value.type),1)]),_:1},8,["color"]),_(c,{size:"small"},{default:o(()=>[n(i(r.value.outputType),1)]),_:1})]),m("div",j,[e.allowClear?(d(),g(f,{key:0,size:"small",type:"text",danger:"",onClick:v(x,["stop"])},{default:o(()=>a[0]||(a[0]=[n(" Clear ")])),_:1,__:[0]})):w("",!0),_(f,{size:"small",type:"text",onClick:v(p,["stop"])},{default:o(()=>a[1]||(a[1]=[n(" Change ")])),_:1,__:[1]})])])):(d(),g(f,{key:1,block:"",onClick:p,disabled:e.disabled},{default:o(()=>[n(i(e.placeholder),1)]),_:1},8,["disabled"]))])}}}),Z=N(D,[["__scopeId","data-v-6d86b840"]]);export{Z as P};
