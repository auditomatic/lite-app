import{u as p,f,O as v}from"./utils-vendor-DcTsQz_8.js";import{s as i}from"./vue-vendor-DPw1dQYc.js";function b(a,s={}){const{initialValue:l,onError:u}=s,e=i(null),o=i(!0);return{data:p(f(a()).pipe(t=>new v(r=>{const m=t.subscribe({next:n=>{e.value=null,o.value=!1,r.next(n)},error:n=>{e.value=n instanceof Error?n:new Error(String(n)),o.value=!1,u?.(e.value),r.error(n)},complete:()=>{o.value=!1,r.complete()}});return()=>m.unsubscribe()})),{initialValue:l}),loading:o,error:e}}function O(a,s,l={}){const u=new v(e=>{const o=a(),c=f(o).subscribe({next:t=>{try{const r=s(t);e.next(r)}catch(r){e.error(r)}},error:t=>e.error(t),complete:()=>e.complete()});return()=>c.unsubscribe()});return b(()=>u,l)}export{b as a,O as u};
