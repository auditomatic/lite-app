import{b as T,r as l,c as m,a as z}from"./index-SihudOJq.js";const w="3.0.0",P="wizard-v3-flow",k=T("wizard-flow",()=>{const r=l(0),u=l(!1),i=l({showCO2:!0,showWater:!0,showElectricity:!0}),v=l("playground"),d=l(!1),h=l(w),f=l({ollama:!1,anthropic:!1,openrouter:!1,openai:!1}),p=l({}),n=l([]),s=l(null),o=l(-1),c=l({}),S=m(()=>6),I=m(()=>{switch(r.value){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return!1;default:return!1}}),W=m(()=>r.value>0),x=m(()=>{const e=new Set;for(let t=0;t<r.value;t++)e.add(t);return e});function C(){r.value<S.value-1&&(r.value++,a())}function E(){r.value>0&&(r.value--,a())}function y(e){e>=0&&e<S.value&&(r.value=e,a())}function V(){u.value=!0,a()}function O(){u.value=!1,a()}function D(e){i.value={...i.value,...e},a()}function N(e){v.value=e,a()}async function b(){d.value=!0,h.value=w,u.value=!1,localStorage.setItem("wizard-v3-completed",w),a()}function M(){r.value=0,u.value=!1,d.value=!1,i.value={showCO2:!0,showWater:!0,showElectricity:!0},v.value="playground",f.value={ollama:!1,anthropic:!1,openrouter:!1,openai:!1},p.value={},n.value=[],s.value=null,o.value=-1,c.value={},localStorage.removeItem("wizard-v3-completed"),a()}function F(e){f.value=e;const t=[];e.ollama&&t.push("ollama"),e.anthropic&&t.push("anthropic"),e.openrouter&&t.push("openrouter"),e.openai&&t.push("openai"),n.value=t,a()}function G(e){p.value=e,a()}function Q(){n.value.length>0&&(o.value=0,s.value=n.value[0]),a()}function R(){return o.value<n.value.length-1?(o.value++,s.value=n.value[o.value],a(),!0):!1}function A(e,t){c.value[e]=t,a()}function J(e){return c.value[e]}function a(){try{const e={currentStep:r.value,isVisible:u.value,environmentalMetrics:i.value,nextDestination:v.value,hasCompletedWizard:d.value,wizardVersion:h.value,selectedProviders:f.value,selectedEndpoints:p.value,providerQueue:n.value,currentProviderId:s.value,currentProviderIndex:o.value,providerConfigs:c.value};localStorage.setItem(P,JSON.stringify(e))}catch(e){z.warn("Failed to save wizard state:",e)}}function g(){try{const e=localStorage.getItem(P);if(e){const t=JSON.parse(e);r.value=t.currentStep||0,u.value=t.isVisible||!1,i.value=t.environmentalMetrics||{showWater:!0,showElectricity:!0},v.value=t.nextDestination||"playground",d.value=t.hasCompletedWizard||!1,h.value=t.wizardVersion||w,f.value=t.selectedProviders||{ollama:!1,anthropic:!1,openrouter:!1,openai:!1},p.value=t.selectedEndpoints||{},n.value=t.providerQueue||[],s.value=t.currentProviderId||null,o.value=t.currentProviderIndex??-1,c.value=t.providerConfigs||{}}}catch(e){z.warn("Failed to load wizard state:",e)}}return g(),{currentStep:r,isVisible:u,environmentalMetrics:i,nextDestination:v,hasCompletedWizard:d,wizardVersion:h,selectedProviders:f,selectedEndpoints:p,providerQueue:n,currentProviderId:s,currentProviderIndex:o,providerConfigs:c,totalSteps:S,canGoNext:I,canGoBack:W,completedSteps:x,nextStep:C,previousStep:E,goToStep:y,showWizard:V,hideWizard:O,setEnvironmentalMetrics:D,setNextDestination:N,completeWizard:b,resetWizard:M,setSelectedProviders:F,setSelectedEndpoints:G,startProviderConfiguration:Q,nextProvider:R,setProviderConfig:A,getProviderConfig:J,saveState:a,loadState:g}});export{k as useWizardFlow};
