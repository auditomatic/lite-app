import{b as T,r as o,c as w,u as _,a as z}from"./index-BET_-Wmx.js";const S="3.0.0",E="wizard-v3-flow",q=T("wizard-flow",()=>{const r=o(0),s=o(!1),l=o({showCO2:!0,showWater:!0,showElectricity:!0}),v=o("playground"),d=o(!1),h=o(S),f=o({ollama:!1,anthropic:!1,openrouter:!1,openai:!1}),p=o({}),n=o([]),i=o(null),u=o(-1),c=o({}),m=w(()=>6),P=w(()=>{switch(r.value){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!1;default:return!1}}),W=w(()=>r.value>0),y=w(()=>{const e=new Set;for(let t=0;t<r.value;t++)e.add(t);return e});function C(){r.value<m.value-1&&(r.value++,a())}function I(){r.value>0&&(r.value--,a())}function x(e){e>=0&&e<m.value&&(r.value=e,a())}function O(){s.value=!0,a()}function V(){s.value=!1,a()}function D(e){l.value={...l.value,...e},a()}function N(e){v.value=e,a()}async function b(){d.value=!0,h.value=S,s.value=!1,_().setEnvironmentalDisplaySettings({showCO2:l.value.showCO2,showWater:l.value.showWater,showElectricity:l.value.showElectricity}),localStorage.setItem("wizard-v3-completed",S),a()}function M(){r.value=0,s.value=!1,d.value=!1,l.value={showCO2:!0,showWater:!0,showElectricity:!0},v.value="playground",f.value={ollama:!1,anthropic:!1,openrouter:!1,openai:!1},p.value={},n.value=[],i.value=null,u.value=-1,c.value={},localStorage.removeItem("wizard-v3-completed"),a()}function F(e){f.value=e;const t=[];e.ollama&&t.push("ollama"),e.anthropic&&t.push("anthropic"),e.openrouter&&t.push("openrouter"),e.openai&&t.push("openai"),n.value=t,a()}function G(e){p.value=e,a()}function Q(){n.value.length>0&&(u.value=0,i.value=n.value[0]),a()}function R(){return u.value<n.value.length-1?(u.value++,i.value=n.value[u.value],a(),!0):!1}function A(e,t){c.value[e]=t,a()}function J(e){return c.value[e]}function a(){try{const e={currentStep:r.value,isVisible:s.value,environmentalMetrics:l.value,nextDestination:v.value,hasCompletedWizard:d.value,wizardVersion:h.value,selectedProviders:f.value,selectedEndpoints:p.value,providerQueue:n.value,currentProviderId:i.value,currentProviderIndex:u.value,providerConfigs:c.value};localStorage.setItem(E,JSON.stringify(e))}catch(e){z.warn("Failed to save wizard state:",e)}}function g(){try{const e=localStorage.getItem(E);if(e){const t=JSON.parse(e);r.value=t.currentStep||0,s.value=t.isVisible||!1,l.value=t.environmentalMetrics||{showWater:!0,showElectricity:!0},v.value=t.nextDestination||"playground",d.value=t.hasCompletedWizard||!1,h.value=t.wizardVersion||S,f.value=t.selectedProviders||{ollama:!1,anthropic:!1,openrouter:!1,openai:!1},p.value=t.selectedEndpoints||{},n.value=t.providerQueue||[],i.value=t.currentProviderId||null,u.value=t.currentProviderIndex??-1,c.value=t.providerConfigs||{}}}catch(e){z.warn("Failed to load wizard state:",e)}}return g(),{currentStep:r,isVisible:s,environmentalMetrics:l,nextDestination:v,hasCompletedWizard:d,wizardVersion:h,selectedProviders:f,selectedEndpoints:p,providerQueue:n,currentProviderId:i,currentProviderIndex:u,providerConfigs:c,totalSteps:m,canGoNext:P,canGoBack:W,completedSteps:y,nextStep:C,previousStep:I,goToStep:x,showWizard:O,hideWizard:V,setEnvironmentalMetrics:D,setNextDestination:N,completeWizard:b,resetWizard:M,setSelectedProviders:F,setSelectedEndpoints:G,startProviderConfiguration:Q,nextProvider:R,setProviderConfig:A,getProviderConfig:J,saveState:a,loadState:g}});export{q as useWizardFlow};
