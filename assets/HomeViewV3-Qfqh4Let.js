import{u as G,A as J,a as Q,e as ss}from"./index-CG5v7TZG.js";import{d as ts,f as C,c as n,o as es,V as i,W as t,G as c,X as l,k as m,u as p,F as b,Y as f,Z as as,_ as r}from"./vue-vendor-BZxY9vkr.js";import{u as ls}from"./useV4Models-UTqH0K3B.js";import{F as ns,D as os,E as is,B as rs,A as ds,S as us,l as cs}from"./ui-vendor-DgwC-sRC.js";import"./utils-vendor-X1Ah6TN4.js";import"./data-vendor-CllpzWXw.js";import"./useV4LiveQuery-CfOiSnL_.js";const vs={class:"home-view","data-testid":"page-home"},ms={class:"status-section"},ps={class:"status-grid"},gs={class:"status-card"},bs={class:"status-value"},fs={class:"status-card"},ys={class:"status-value"},Cs={class:"status-card"},hs={class:"status-value"},ks={class:"status-card"},_s={class:"status-value"},Vs={class:"dashboard-grid"},xs={class:"card-content"},As={class:"recent-items"},Ls={class:"card-content"},ws={class:"recent-items"},Bs={class:"card-content"},Ns={class:"recent-items"},Ss={class:"card-content"},Ds={class:"recent-items"},Os={class:"card-content"},Ts={class:"provider-summary"},$s={class:"card-content"},Ms={class:"settings-summary"},Ps={class:"card-content"},Es={class:"debug-summary"},Fs=ts({__name:"HomeViewV3",setup(Is){var L,w,B,N;const D=as(),{models:h,modelsByProvider:k}=ls(),u=G(),O=`v${J.short}`,_=u.templates.templates,V=((w=(L=u.spreadsheet)==null?void 0:L.prompts)==null?void 0:w.prompts)||C([]),x=u.variableLists,g=u.trials,T=((N=(B=u.settings)==null?void 0:B.core)==null?void 0:N.preferences)||C(null),$=n(()=>{var a,s;return(((a=_.value)==null?void 0:a.length)||0)+(((s=V.value)==null?void 0:s.length)||0)}),M=n(()=>{var a;return((a=x.value)==null?void 0:a.length)||0}),P=n(()=>{var a;return((a=g.value)==null?void 0:a.length)||0}),E=n(()=>{var a;return((a=g.value)==null?void 0:a.filter(s=>s.status==="completed").length)||0}),F=n(()=>{var a;return((a=h.value)==null?void 0:a.length)||0}),I=n(()=>{if(!T.value)return 0;let a=0;const s=u.providers.value||[];for(const o of s)u.hasApiKey(o.id)&&a++;const e=s.find(o=>o.id==="ollama-chat"),d=s.find(o=>o.id==="ollama-generate");return(e!=null&&e.configured||d!=null&&d.configured)&&a++,a}),R=n(()=>[...(_.value||[]).map(s=>({id:s.id,name:s.name,type:"template"})),...(V.value||[]).map(s=>({id:s.id,name:s.name,type:"spreadsheet"}))].slice(0,3)),U=n(()=>(x.value||[]).slice(0,3)),j=n(()=>(g.value||[]).slice(0,3)),K=n(()=>(g.value||[]).filter(a=>a.status==="completed").slice(0,3)),z=n(()=>(g.value||[]).filter(a=>a.status==="running"||a.status==="paused").length),H=n(()=>(g.value||[]).reduce((a,s)=>{var o,y;const e=((o=s.progress)==null?void 0:o.completed)||0,d=((y=s.progress)==null?void 0:y.failed)||0;return a+e+d},0)),A=C({formatted:"0 B"}),W=n(()=>A.value.formatted),X=n(()=>{var s;if(!((s=h.value)!=null&&s.length))return[];const a=k.value||{};return Object.entries(a).map(([e,d])=>({id:e,name:e.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),modelCount:d.length}))}),Y=n(()=>{const a=[],s=k.value||{};for(const[e,d]of Object.entries(s))if(d.length>0){const o=u.hasApiKey(e),y=e.split("-").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ");a.push({provider:y,status:o?"Configured":"Available"})}return a}),Z=n(()=>""),q=n(()=>0),v=a=>{D.push(`/${a}`)};return es(async()=>{try{const s=((await u.system.calculateStorageUsage()).totalSize/(1024*1024)).toFixed(1);A.value={formatted:`${s} MB`}}catch(a){Q.warn("Failed to get storage info",a)}}),(a,s)=>(r(),i("div",vs,[t("div",{class:"welcome-section"},[t("div",{class:"welcome-content"},[t("h1",{class:"welcome-title"},[s[7]||(s[7]=c("Auditomatic Lite — ")),t("span",{class:"version-text"},l(O))]),s[8]||(s[8]=t("p",{class:"welcome-subtitle"}," A powerful browser-based tool for systematic testing of Large Language Models ",-1)),s[9]||(s[9]=t("div",{class:"workflow-hint"},[t("strong",null,"Typical Workflow:"),c(" Set API Keys → Enable Models → (Optional: Create Variables) → Design Prompts → Configure Trial → Run & Analyze ")],-1))])]),t("div",ms,[s[14]||(s[14]=t("h2",null,"System Status",-1)),t("div",ps,[t("div",gs,[s[10]||(s[10]=t("span",{class:"status-label"},"LLM Providers",-1)),t("span",bs,l(I.value)+" configured",1)]),t("div",fs,[s[11]||(s[11]=t("span",{class:"status-label"},"Active Trials",-1)),t("span",ys,l(z.value),1)]),t("div",Cs,[s[12]||(s[12]=t("span",{class:"status-label"},"Total Results",-1)),t("span",hs,l(H.value),1)]),t("div",ks,[s[13]||(s[13]=t("span",{class:"status-label"},"Storage Used",-1)),t("span",_s,l(W.value),1)])])]),t("div",Vs,[t("div",{class:"dashboard-card",onClick:s[0]||(s[0]=e=>v("designs")),"data-testid":"card-nav-designs","aria-label":"Navigate to prompt designs",role:"button",tabindex:"0"},[t("h3",null,[m(p(ns)),s[15]||(s[15]=c(" Designs"))]),t("div",xs,[t("p",null,l($.value)+" prompt templates",1),t("div",As,[(r(!0),i(b,null,f(R.value,e=>(r(),i("div",{key:e.id,class:"recent-item"},l(e.name),1))),128))])])]),t("div",{class:"dashboard-card",onClick:s[1]||(s[1]=e=>v("variables")),"data-testid":"card-nav-variables","aria-label":"Navigate to variable lists",role:"button",tabindex:"0"},[t("h3",null,[m(p(os)),s[16]||(s[16]=c(" Variables"))]),t("div",Ls,[t("p",null,l(M.value)+" variable lists",1),t("div",ws,[(r(!0),i(b,null,f(U.value,e=>{var d;return r(),i("div",{key:e.id,class:"recent-item"},l(e.name)+" ("+l(((d=e.values)==null?void 0:d.length)||0)+" items) ",1)}),128))])])]),t("div",{class:"dashboard-card",onClick:s[2]||(s[2]=e=>v("trials")),"data-testid":"card-nav-trials","aria-label":"Navigate to trials",role:"button",tabindex:"0"},[t("h3",null,[m(p(is)),s[17]||(s[17]=c(" Trials"))]),t("div",Bs,[t("p",null,l(P.value)+" test configurations",1),t("div",Ns,[(r(!0),i(b,null,f(j.value,e=>(r(),i("div",{key:e.id,class:"recent-item"},l(e.name),1))),128))])])]),t("div",{class:"dashboard-card",onClick:s[3]||(s[3]=e=>v("results")),"data-testid":"card-nav-results","aria-label":"Navigate to results analysis",role:"button",tabindex:"0"},[t("h3",null,[m(p(rs)),s[18]||(s[18]=c(" Results"))]),t("div",Ss,[t("p",null,l(E.value)+" completed runs",1),t("div",Ds,[(r(!0),i(b,null,f(K.value,e=>(r(),i("div",{key:e.id,class:"recent-item"},l(e.name)+" - Completed ",1))),128))])])]),t("div",{class:"dashboard-card",onClick:s[4]||(s[4]=e=>v("models")),"data-testid":"card-nav-models","aria-label":"Navigate to model management",role:"button",tabindex:"0"},[t("h3",null,[m(p(ds)),s[19]||(s[19]=c(" Models"))]),t("div",Os,[t("p",null,l(F.value)+" LLM models available",1),t("div",Ts,[(r(!0),i(b,null,f(X.value,e=>(r(),i("div",{key:e.id,class:"provider-item"},l(e.name)+": "+l(e.modelCount)+" models ",1))),128))])])]),t("div",{class:"dashboard-card",onClick:s[5]||(s[5]=e=>v("settings")),"data-testid":"card-nav-settings","aria-label":"Navigate to settings",role:"button",tabindex:"0"},[t("h3",null,[m(p(us)),s[20]||(s[20]=c(" Settings"))]),t("div",$s,[s[21]||(s[21]=t("p",null,"Configure API keys and endpoints",-1)),t("div",Ms,[(r(!0),i(b,null,f(Y.value,e=>(r(),i("div",{key:e.provider,class:"setting-item"},l(e.provider)+": "+l(e.status),1))),128))])])]),t("div",{class:"dashboard-card",onClick:s[6]||(s[6]=e=>v("debug")),"data-testid":"card-nav-debug","aria-label":"Navigate to debug tools",role:"button",tabindex:"0"},[t("h3",null,[m(p(cs)),s[22]||(s[22]=c(" Debug"))]),t("div",Ps,[s[23]||(s[23]=t("p",null,"View system logs and diagnostics",-1)),t("div",Es,[t("div",null,"Last error: "+l(Z.value||"None"),1),t("div",null,"Log entries: "+l(q.value),1)])])])])]))}}),Xs=ss(Fs,[["__scopeId","data-v-2e45658c"]]);export{Xs as default};
