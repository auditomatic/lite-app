import{a as z}from"./index-ByJJVjMq.js";import{U as T,f as o,c as h}from"./vue-vendor-BZxY9vkr.js";import"./ui-vendor-DgwC-sRC.js";import"./utils-vendor-X1Ah6TN4.js";import"./data-vendor-CllpzWXw.js";const w="3.0.0",P="wizard-v3-flow",U=T("wizard-flow",()=>{const r=o(0),u=o(!1),i=o({showCO2:!0,showWater:!0,showElectricity:!0}),v=o("playground"),d=o(!1),m=o(w),f=o({ollama:!1,anthropic:!1,openrouter:!1,openai:!1}),p=o({}),l=o([]),s=o(null),n=o(-1),c=o({}),S=h(()=>6),I=h(()=>{switch(r.value){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return!1;default:return!1}}),W=h(()=>r.value>0),x=h(()=>{const e=new Set;for(let t=0;t<r.value;t++)e.add(t);return e});function C(){r.value<S.value-1&&(r.value++,a())}function E(){r.value>0&&(r.value--,a())}function y(e){e>=0&&e<S.value&&(r.value=e,a())}function V(){u.value=!0,a()}function O(){u.value=!1,a()}function D(e){i.value={...i.value,...e},a()}function N(e){v.value=e,a()}async function M(){d.value=!0,m.value=w,u.value=!1,localStorage.setItem("wizard-v3-completed",w),a()}function b(){r.value=0,u.value=!1,d.value=!1,i.value={showCO2:!0,showWater:!0,showElectricity:!0},v.value="playground",f.value={ollama:!1,anthropic:!1,openrouter:!1,openai:!1},p.value={},l.value=[],s.value=null,n.value=-1,c.value={},localStorage.removeItem("wizard-v3-completed"),a()}function F(e){f.value=e;const t=[];e.ollama&&t.push("ollama"),e.anthropic&&t.push("anthropic"),e.openrouter&&t.push("openrouter"),e.openai&&t.push("openai"),l.value=t,a()}function G(e){p.value=e,a()}function Q(){l.value.length>0&&(n.value=0,s.value=l.value[0]),a()}function R(){return n.value<l.value.length-1?(n.value++,s.value=l.value[n.value],a(),!0):!1}function A(e,t){c.value[e]=t,a()}function J(e){return c.value[e]}function a(){try{const e={currentStep:r.value,isVisible:u.value,environmentalMetrics:i.value,nextDestination:v.value,hasCompletedWizard:d.value,wizardVersion:m.value,selectedProviders:f.value,selectedEndpoints:p.value,providerQueue:l.value,currentProviderId:s.value,currentProviderIndex:n.value,providerConfigs:c.value};localStorage.setItem(P,JSON.stringify(e))}catch(e){z.warn("Failed to save wizard state:",e)}}function g(){try{const e=localStorage.getItem(P);if(e){const t=JSON.parse(e);r.value=t.currentStep||0,u.value=t.isVisible||!1,i.value=t.environmentalMetrics||{showWater:!0,showElectricity:!0},v.value=t.nextDestination||"playground",d.value=t.hasCompletedWizard||!1,m.value=t.wizardVersion||w,f.value=t.selectedProviders||{ollama:!1,anthropic:!1,openrouter:!1,openai:!1},p.value=t.selectedEndpoints||{},l.value=t.providerQueue||[],s.value=t.currentProviderId||null,n.value=t.currentProviderIndex??-1,c.value=t.providerConfigs||{}}}catch(e){z.warn("Failed to load wizard state:",e)}}return g(),{currentStep:r,isVisible:u,environmentalMetrics:i,nextDestination:v,hasCompletedWizard:d,wizardVersion:m,selectedProviders:f,selectedEndpoints:p,providerQueue:l,currentProviderId:s,currentProviderIndex:n,providerConfigs:c,totalSteps:S,canGoNext:I,canGoBack:W,completedSteps:x,nextStep:C,previousStep:E,goToStep:y,showWizard:V,hideWizard:O,setEnvironmentalMetrics:D,setNextDestination:N,completeWizard:M,resetWizard:b,setSelectedProviders:F,setSelectedEndpoints:G,startProviderConfiguration:Q,nextProvider:R,setProviderConfig:A,getProviderConfig:J,saveState:a,loadState:g}});export{U as useWizardFlow};
