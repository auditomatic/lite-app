import{e as o,I as Ce,f as j,c as R,x as B,y as c,z as I,j as d,B as W,i as e,H as S,ar as je,C as g,h as y,D as X,F as Z,aP as Ye,a0 as Qe,aQ as $e,k as Y,af as ne,A as h,r as L,au as ae,v as te,a as K,X as Xe,az as ee,K as Ze,aC as Je,aR as Me,aA as et,ax as tt,d as V,at as ce,E as J,aS as st,ae as ot,w as ue,aT as Oe,al as nt,aU as Ae,a8 as at,aV as it,Z as lt,R as rt}from"./index-SihudOJq.js";import{useWizardFlow as ie}from"./wizard-flow-FJlWaxnm.js";import{W as Pe}from"./WarningOutlined-Qe7RojQq.js";import{u as pe}from"./useV4Models-DMdNHk6U.js";import{O as dt}from"./OllamaModelManagerV3-mnByalfs.js";import{S as ut}from"./SaveOutlined-7R9OtPmE.js";import{E as ct}from"./ExportOutlined-TbzBQ5aa.js";import"./useV4LiveQuery-DZcN7iLj.js";import"./FilterOutlined-CvUPgT_I.js";import"./ollama-fetch-C8hUatF2.js";import"./UnorderedListOutlined-RfHAIc9H.js";var pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};function we(x){for(var f=1;f<arguments.length;f++){var a=arguments[f]!=null?Object(arguments[f]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(v){return Object.getOwnPropertyDescriptor(a,v).enumerable}))),i.forEach(function(v){vt(x,v,a[v])})}return x}function vt(x,f,a){return f in x?Object.defineProperty(x,f,{value:a,enumerable:!0,configurable:!0,writable:!0}):x[f]=a,x}var oe=function(f,a){var i=we({},f,a.attrs);return o(Ce,we({},i,{icon:pt}),null)};oe.displayName="MinusCircleOutlined";oe.inheritAttrs=!1;var mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};function be(x){for(var f=1;f<arguments.length;f++){var a=arguments[f]!=null?Object(arguments[f]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(v){return Object.getOwnPropertyDescriptor(a,v).enumerable}))),i.forEach(function(v){ft(x,v,a[v])})}return x}function ft(x,f,a){return f in x?Object.defineProperty(x,f,{value:a,enumerable:!0,configurable:!0,writable:!0}):x[f]=a,x}var ve=function(f,a){var i=be({},f,a.attrs);return o(Ce,be({},i,{icon:mt}),null)};ve.displayName="RocketOutlined";ve.inheritAttrs=!1;const gt={class:"header-content"},yt={class:"wizard-progress"},ht={class:"progress-mobile"},_t={class:"step-counter"},kt={class:"progress-desktop"},wt={class:"content-wrapper"},bt={class:"navigation-wrapper"},St={class:"btn-text"},Ct=j({__name:"WizardContainer",props:{currentStep:{},totalSteps:{},canGoNext:{type:Boolean},canGoBack:{type:Boolean},completedSteps:{}},emits:["next","back","close","complete"],setup(x){const f=x,a=R(()=>f.currentStep===1||f.currentStep===3||f.currentStep===4),i=["Welcome","Local-First","Security","Providers","Configure","Complete"];function v(){switch(f.currentStep){case 0:return"Get Started";case 2:return"Continue";case 3:return"Finish Setup";default:return"Continue"}}return(_,C)=>{const A=I("a-button"),b=I("a-progress"),P=I("a-step"),N=I("a-steps"),r=I("a-layout-header"),m=I("a-layout-content"),n=I("a-layout-footer"),$=I("a-layout");return d(),B($,{class:"wizard-layout"},{default:c(()=>[o(r,{class:"wizard-header"},{default:c(()=>[e("div",gt,[o(A,{class:"wizard-close",type:"text",shape:"circle",size:"small",onClick:C[0]||(C[0]=u=>_.$emit("close"))},{icon:c(()=>[o(S(je))]),_:1}),e("div",yt,[e("div",ht,[e("span",_t,g(_.currentStep+1)+" of "+g(_.totalSteps),1),o(b,{percent:Math.round((_.currentStep+1)/_.totalSteps*100),"show-info":!1,size:"small","stroke-color":"var(--color-primary)"},null,8,["percent"])]),e("div",kt,[o(N,{current:_.currentStep,size:"small",responsive:!1},{default:c(()=>[(d(),y(Z,null,X(i,(u,k)=>o(P,{key:k,title:u},null,8,["title"])),64))]),_:1},8,["current"])])])])]),_:1}),o(m,{class:"wizard-content"},{default:c(()=>[e("div",wt,[Ye(_.$slots,"default",{},void 0,!0)])]),_:3}),a.value?W("",!0):(d(),B(n,{key:0,class:"wizard-footer"},{default:c(()=>[e("div",bt,[_.canGoBack?(d(),B(A,{key:0,class:"nav-back",onClick:C[1]||(C[1]=u=>_.$emit("back"))},{default:c(()=>[o(S(Qe)),C[4]||(C[4]=e("span",{class:"btn-text"},"Back",-1))]),_:1,__:[4]})):W("",!0),C[6]||(C[6]=e("div",{class:"nav-spacer"},null,-1)),_.currentStep<_.totalSteps-1?(d(),B(A,{key:1,type:"primary",class:"nav-next",onClick:C[2]||(C[2]=u=>_.$emit("next")),disabled:!_.canGoNext},{default:c(()=>[e("span",St,g(v()),1),o(S($e))]),_:1},8,["disabled"])):(d(),B(A,{key:2,type:"primary",class:"nav-complete",onClick:C[3]||(C[3]=u=>_.$emit("complete"))},{default:c(()=>[C[5]||(C[5]=e("span",{class:"btn-text"},"Get Started",-1)),o(S(ve))]),_:1,__:[5]}))])]),_:1}))]),_:3})}}}),$t=Y(Ct,[["__scopeId","data-v-b8cb3ec8"]]),Mt={class:"wizard-welcome"},Ot={class:"feature-showcase"},At={class:"feature-grid"},Pt={class:"feature-icon"},xt={class:"feature-content"},It=j({__name:"WizardWelcome",emits:["continue"],setup(x){const f=[{icon:"üåê",title:"Browser Compatibility",description:"Chrome and Firefox are preferred. Safari support is limited.",isWarning:!0},{icon:"‚ö†Ô∏è",title:"Experimental Beta",description:"Features may change. Export your data regularly.",isWarning:!0},{icon:"üí∞",title:"Cost Tracking",description:"Real-time cost estimation with environmental impact tracking.",isWarning:!0},{icon:"üíæ",title:"Local Storage",description:"All data stored locally in your browser - complete privacy"},{icon:"üö´",title:"No Cloud Storage",description:"We cannot access your data - export regularly to avoid data loss"},{icon:"ü§ñ",title:"Multi-Provider",description:"Test across OpenAI, Anthropic, OpenRouter, Ollama, and more"},{icon:"üìù",title:"Design Templates",description:"Create prompt templates with variables for systematic testing"},{icon:"üîÑ",title:"Variable Lists",description:"Define test values that get substituted into prompts automatically"},{icon:"üß™",title:"Run Trials",description:"Test multiple models and configurations in parallel"},{icon:"üìä",title:"Analyze Results",description:"View live progress, compare responses, and export data"},{icon:"‚ö°",title:"High Performance",description:"Optimized for large datasets with virtual scrolling"},{icon:"üîí",title:"Secure API Keys",description:"Optional encryption for API keys with master password protection"}];return(a,i)=>(d(),y("div",Mt,[i[0]||(i[0]=e("div",{class:"welcome-header"},[e("h1",null,"Welcome to Auditomatic Lite"),e("p",{class:"tagline"},"Browser-Based Testing for Multiple LLM Providers")],-1)),e("div",Ot,[e("div",At,[(d(),y(Z,null,X(f,v=>e("div",{key:v.title,class:ne(["feature-card",{"warning-card":v.isWarning}])},[e("div",Pt,g(v.icon),1),e("div",xt,[e("h3",null,g(v.title),1),e("p",null,g(v.description),1)])],2)),64))])]),i[1]||(i[1]=e("div",{class:"welcome-actions"},[e("p",{class:"help-text"}," Ready to get started? We'll guide you through setting up security and AI providers. "),e("div",{class:"continue-hint"},[h(" üëá Click "),e("strong",null,'"Get Started"'),h(" below to continue ")])],-1))]))}}),zt=Y(It,[["__scopeId","data-v-f8570420"]]),Rt={class:"wizard-local-first"},Tt={class:"content-slides"},Wt={class:"slide"},Dt={class:"slide-content"},Et={class:"slide-icon"},Lt={class:"slide-description"},Ft=["innerHTML"],Nt={class:"slide-navigation"},Bt={class:"slide-indicators"},Ut=["onClick"],Kt=j({__name:"WizardLocalFirst",emits:["continue"],setup(x,{emit:f}){const a=f,i=L(0),v=[{icon:"üåê",title:"This is NOT a Web-Based Platform",content:["Even though you are accessing it from lite.auditomatic.org (**and always verify this is the correct URL, do not click phishing links**), this is not a traditional web-based platform.","Auditomatic Lite runs entirely in your web browser after downloading."]},{icon:"üíª",title:"How It Works",content:["When you visit lite.auditomatic.org, it only connects to our server to download the app, then runs it in your browser.","When you make an API call to a provider like OpenAI, the app makes it directly from your browser to OpenAI's servers.","Responses are stored in your browser's storage - we never see your data."]},{icon:"üíæ",title:"Local Storage Only",content:["Everything is stored on this computer, in this browser, in this user's profile.","If you change computers, browsers, browser profiles, or use incognito/private mode, you will **not** have access to the data you create here.","We recommend exporting results as soon as they are completed and exporting all data and settings via the Settings ‚Üí Import/Export tab."]},{icon:"üö´",title:"No Account System",content:["You do **not** need (and **cannot** get) an account on lite.auditomatic.org.","We have **no** access to your data and **cannot** recover it if you delete it.","This is by design, for your privacy and security."]},{icon:"‚ö†Ô∏è",title:"Usage Limitations",content:["**Only** keep one Auditomatic Lite tab open at a time.","You can **only** run one trial at a time.","Browser crashes or updates may cause data loss - export regularly."]},{icon:"üî¨",title:"Research Data Management",content:["While Auditomatic Lite stores your template designs, variable lists, experimental setups, and full records of all API calls made, we **discourage** you from using it as your **primary** way to manage and store your research operations and data.","Instead, treat Auditomatic Lite as an instrument within your broader research data management workflow.","When you complete a trial, export and back up both the data and the Python bundle, which contains everything needed to re-run and reproduce your trial."]},{icon:"üñ•Ô∏è",title:"Desktop App Recommendation",content:['We have a desktop app version that we recommend, which is also 100% locally hosted. Download at <a href="https://download.auditomatic.org" target="_blank">download.auditomatic.org</a>.',"The desktop version is more secure from browser-based attacks, is faster and more memory-efficient, and less likely to suffer data loss from browser crashes.","Consider upgrading to the desktop version for production research work."]}];function _(){i.value<v.length-1&&i.value++}function C(b){i.value=b}function A(){a("continue")}return(b,P)=>{const N=I("a-button");return d(),y("div",Rt,[e("div",Tt,[e("div",Wt,[e("div",Dt,[e("div",Et,g(v[i.value].icon),1),e("h3",null,g(v[i.value].title),1),e("div",Lt,[(d(!0),y(Z,null,X(v[i.value].content,(r,m)=>(d(),y("p",{key:m,innerHTML:r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")},null,8,Ft))),128))])])])]),e("div",Nt,[e("div",Bt,[(d(),y(Z,null,X(v,(r,m)=>e("button",{key:m,class:ne(["slide-indicator",{active:i.value===m}]),onClick:n=>C(m)},g(m+1),11,Ut)),64)),o(N,{onClick:P[0]||(P[0]=r=>i.value<v.length-1?_():A()),type:"primary",size:"large",class:"next-button"},{default:c(()=>[h(g(i.value<v.length-1?"Next":"Continue to Security"),1)]),_:1})])])])}}}),qt=Y(Kt,[["__scopeId","data-v-b2b41ce7"]]),Gt={class:"wizard-security"},Ht={key:0,class:"security-setup-required"},Vt={class:"security-explanation"},jt={class:"explanation-section"},Yt={class:"combined-warning"},Qt={class:"platform-specific-risks"},Xt={key:0},Zt={key:1},Jt={class:"setup-action"},es={key:1,class:"security-configured"},ts={class:"completion-header"},ss={class:"current-settings"},os={class:"setting-item"},ns={class:"setting-value"},as={key:0,class:"setting-item"},is={class:"configured-actions"},ls=j({__name:"WizardSecurity",emits:["security-ready"],setup(x,{emit:f}){const a=f,i=ae(),v=L(!1),_=R(()=>i.secureSettings.hasSetupApiKeySecurity()),C=R(()=>i.hasMasterPassword.value),A=R(()=>typeof window>"u"?!1:window.__TAURI__!==void 0||window.__TAURI_INTERNALS__!==void 0);function b(){const m=i.secureSettings.getDefaultSecurityMode();return{encrypted:"üîí Encrypted",session:"‚ö†Ô∏è Session Only",plaintext:"üìù Plaintext"}[m]||m}function P(){v.value=!0,K.info("Triggering security setup from wizard")}function N(){v.value=!1}function r(m){v.value=!1,K.info("Security setup completed in wizard",{mode:m.mode}),localStorage.setItem("wizard-security-completed","true"),a("security-ready")}return te(()=>{if(K.info("Wizard security step mounted",{hasSetupSecurity:_.value,defaultMode:i.secureSettings.getDefaultSecurityMode()}),_.value){const m=i.secureSettings.getDefaultSecurityMode();localStorage.setItem("wizard-security-completed","true"),K.info("Security already configured, showing status",{mode:m})}}),(m,n)=>{const $=I("a-button");return d(),y("div",Gt,[_.value?(d(),y("div",es,[e("div",ts,[o(S(ee),{class:"completion-icon"}),n[6]||(n[6]=e("h3",null,"Security Already Configured",-1))]),e("div",ss,[e("div",os,[n[7]||(n[7]=e("span",{class:"setting-label"},"Default Security Mode:",-1)),e("span",ns,g(b()),1)]),C.value?(d(),y("div",as,n[8]||(n[8]=[e("span",{class:"setting-label"},"Master Password:",-1),e("span",{class:"setting-value"},"‚úÖ Configured",-1)]))):W("",!0)]),e("div",is,[o($,{type:"default",onClick:P},{default:c(()=>[o(S(Ze)),n[9]||(n[9]=h(" Change Security Settings "))]),_:1,__:[9]}),o($,{type:"primary",onClick:n[0]||(n[0]=u=>m.$emit("security-ready"))},{default:c(()=>[n[10]||(n[10]=h(" Continue to API Keys ")),o(S($e))]),_:1,__:[10]})])])):(d(),y("div",Ht,[n[5]||(n[5]=e("div",{class:"setup-info"},[e("div",{class:"info-card"},[e("div",{class:"card-icon"},"üîê"),e("div",{class:"card-content"},[e("h3",null,"API Key Security Setup Required"),e("p",null," Before adding API keys, you need to choose your security preferences. This is a one-time setup that affects all your API keys. ")])])],-1)),e("div",Vt,[e("div",jt,[e("div",Yt,[n[2]||(n[2]=e("h4",null,"üö® Why API Key Security Matters",-1)),n[3]||(n[3]=e("p",null,[e("strong",null,"Your API key lets anyone charge your OpenAI/Anthropic/OpenRouter account."),h(" Without proper protection, malicious actors could access and misuse your API keys. ")],-1)),e("div",Qt,[e("h5",null,g(A.value?"üíª Desktop Security Risks:":"üåê Browser Security Risks:"),1),A.value?(d(),y("p",Xt," If your key is stored unencrypted, anyone who hacks or has access to your computer could steal your API keys. Desktop apps provide better security than browsers, but unprotected keys are still vulnerable to malware and unauthorized access. ")):(d(),y("p",Zt,n[1]||(n[1]=[h(" Anyone with access to this computer could access your browser's storage. Many browser extensions can also access your browser's storage. If you click a phishing link, someone could steal your API key. "),e("br",null,null,-1),e("br",null,null,-1),h(" While this is unlikely, we provide three levels of security. We also recommend creating a new key with a small spending limit specifically for Auditomatic. For added browser security, "),e("a",{href:"https://support.healthsci.queensu.ca/support/solutions/articles/151000178968-separating-web-browser-profiles",target:"_blank",rel:"noopener noreferrer"},"create a separate profile",-1),h(" in your browser for Auditomatic. ")])))])])])]),e("div",Jt,[o($,{type:"primary",size:"large",onClick:P},{default:c(()=>[o(S(Xe)),n[4]||(n[4]=h(" Configure Security Settings "))]),_:1,__:[4]})])])),o(Je,{open:v.value,context:"wizard",onClose:N,onSuccess:r},null,8,["open"])])}}}),rs=Y(ls,[["__scopeId","data-v-abe43243"]]),ds={class:"wizard-provider-selection"},us={key:0,class:"discovery-status"},cs={key:1,class:"providers-list"},ps={class:"provider-option"},vs={class:"provider-details"},ms={class:"provider-status"},fs={key:0,class:"ollama-help"},gs={class:"provider-option"},ys={class:"provider-details"},hs={class:"provider-status"},_s={class:"model-count"},ks={class:"provider-option"},ws={class:"provider-details"},bs={class:"provider-status"},Ss={class:"model-count"},Cs={class:"provider-option"},$s={class:"provider-details"},Ms={class:"provider-status"},Os={class:"model-count"},As={class:"step-actions"},Ps={class:"action-right"},xs=j({__name:"WizardProviderSelection",emits:["continue","skip"],setup(x,{emit:f}){const a=f,i=ie(),v=L(!1),_=L(0),C=L(0),A=L(0),b=L(0),P=L("not-running"),N=R(()=>{switch(P.value){case"ready":return`${_.value} models installed`;case"no-models":return"Running but no models installed";case"not-running":return"Not running or CORS not configured"}}),r=L({ollama:!1,anthropic:!1,openrouter:!1,openai:!1}),m=R(()=>r.value.ollama||r.value.anthropic||r.value.openrouter||r.value.openai);async function n(){const O=await V.models.where("provider").equals("ollama-chat").count(),s=await V.models.where("provider").equals("anthropic").count(),q=await V.models.where("provider").equals("openrouter").count(),D=await V.models.where("provider").equals("openai-chat").count(),E=await V.models.where("provider").equals("openai-responses").count();if(_.value=O,C.value=s,A.value=q,b.value=Math.max(D,E),O>0)P.value="ready",r.value.ollama=!0;else try{(await fetch("http://localhost:11434/api/tags")).ok?P.value="no-models":P.value="not-running"}catch{P.value="not-running"}}async function $(){v.value=!0;try{const s=await ce().discoverModels({forceRefresh:!0});J.success(`Discovered ${s.totalModels} models`),await n()}catch(O){K.error("Discovery failed:",O),J.error("Failed to refresh model discovery")}finally{v.value=!1}}async function u(){if(!m.value){J.warning("Please select at least one provider");return}i.setSelectedProviders(r.value),a("continue")}function k(){a("skip")}return te(async()=>{await n()}),(O,s)=>{const q=I("a-checkbox"),D=I("a-button");return d(),y("div",ds,[s[21]||(s[21]=e("div",{class:"step-header"},[e("h2",null,"Choose Your AI Providers"),e("p",{class:"step-description"}," We've discovered available models. Select which providers you want to configure. ")],-1)),v.value?(d(),y("div",us,[o(S(Me),{spin:""}),s[4]||(s[4]=h(" Discovering available models... "))])):(d(),y("div",cs,[e("label",ps,[o(q,{checked:r.value.ollama,"onUpdate:checked":s[0]||(s[0]=E=>r.value.ollama=E),disabled:P.value==="not-running"},{default:c(()=>[e("div",vs,[s[8]||(s[8]=e("span",{class:"provider-icon"},"ü¶ô",-1)),e("div",null,[s[6]||(s[6]=e("strong",null,"Ollama",-1)),s[7]||(s[7]=e("span",{class:"provider-desc"},"Run models locally on your computer",-1)),e("div",ms,[P.value==="ready"?(d(),B(S(ee),{key:0,class:"status-icon success"})):P.value==="not-running"?(d(),B(S(et),{key:1,class:"status-icon error"})):P.value==="no-models"?(d(),B(S(Pe),{key:2,class:"status-icon warning"})):W("",!0),e("span",{class:ne(["status-text",P.value])},g(N.value),3)]),P.value==="not-running"?(d(),y("div",fs,s[5]||(s[5]=[e("div",{class:"help-line"},[h("1. Download from "),e("a",{href:"https://ollama.ai",target:"_blank",rel:"noopener noreferrer"},"ollama.ai")],-1),e("div",{class:"help-line"},[h("2. Set "),e("a",{href:"https://objectgraph.com/blog/ollama-cors/",target:"_blank",rel:"noopener noreferrer"},"OLLAMA_ORIGINS=*"),h(" for CORS")],-1)]))):W("",!0)])])]),_:1},8,["checked","disabled"])]),e("label",gs,[o(q,{checked:r.value.openai,"onUpdate:checked":s[1]||(s[1]=E=>r.value.openai=E)},{default:c(()=>[e("div",ys,[s[11]||(s[11]=e("span",{class:"provider-icon"},"ü§ñ",-1)),e("div",null,[s[9]||(s[9]=e("strong",null,"OpenAI",-1)),s[10]||(s[10]=e("span",{class:"provider-desc"},"GPT-4 and GPT-3.5 models - API key required",-1)),e("div",hs,[e("span",_s,g(b.value)+" models available",1)])])])]),_:1},8,["checked"])]),e("label",ks,[o(q,{checked:r.value.openrouter,"onUpdate:checked":s[2]||(s[2]=E=>r.value.openrouter=E)},{default:c(()=>[e("div",ws,[s[14]||(s[14]=e("span",{class:"provider-icon"},"üåê",-1)),e("div",null,[s[12]||(s[12]=e("strong",null,"OpenRouter",-1)),s[13]||(s[13]=e("span",{class:"provider-desc"},"100+ models from many providers - API key required",-1)),e("div",bs,[e("span",Ss,g(A.value)+" models available",1)])])])]),_:1},8,["checked"])]),e("label",Cs,[o(q,{checked:r.value.anthropic,"onUpdate:checked":s[3]||(s[3]=E=>r.value.anthropic=E)},{default:c(()=>[e("div",$s,[s[17]||(s[17]=e("span",{class:"provider-icon"},"üß†",-1)),e("div",null,[s[15]||(s[15]=e("strong",null,"Anthropic",-1)),s[16]||(s[16]=e("span",{class:"provider-desc"},"Access Claude models - API key required",-1)),e("div",Ms,[e("span",Os,g(C.value)+" models available",1)])])])]),_:1},8,["checked"])])])),e("div",As,[o(D,{onClick:$,size:"large",loading:v.value},{default:c(()=>[o(S(tt)),s[18]||(s[18]=h(" Refresh Discovery "))]),_:1,__:[18]},8,["loading"]),e("div",Ps,[o(D,{onClick:k,size:"large"},{default:c(()=>s[19]||(s[19]=[h(" Skip Setup ")])),_:1,__:[19]}),o(D,{type:"primary",onClick:u,size:"large",disabled:!m.value||v.value},{default:c(()=>s[20]||(s[20]=[h(" Continue ")])),_:1,__:[20]},8,["disabled"])])])])}}}),Is=Y(xs,[["__scopeId","data-v-f56e7f48"]]),zs={class:"wizard-model-grid"},Rs={class:"grid-header"},Ts={class:"grid-controls"},Ws={class:"models-list"},Ds={class:"model-info"},Es={class:"model-name"},Ls={class:"model-meta"},Fs={key:0,class:"context"},Ns={key:1,class:"model-cost"},Bs={class:"grid-footer"},Us=j({__name:"WizardModelGrid",props:{providerId:{},providerName:{},selectedModels:{}},emits:["update:selectedModels"],setup(x,{emit:f}){const a=x,i=f,{modelsByProvider:v}=pe(),_=R(()=>v.value[a.providerId]||[]),C=L(""),A=R(()=>{const u=C.value.toLowerCase();return u?_.value.filter(k=>k.modelId.toLowerCase().includes(u)||k.displayName.toLowerCase().includes(u)):_.value});function b(u){return a.selectedModels.includes(u)}function P(u){const k=[...a.selectedModels],O=k.indexOf(u);O>=0?k.splice(O,1):k.push(u),i("update:selectedModels",k)}function N(){i("update:selectedModels",A.value.map(u=>u.id))}function r(){i("update:selectedModels",[])}function m(){if(["openai-chat","openai-responses","anthropic"].includes(a.providerId)){const O=_.value.filter(s=>s.enabled).map(s=>s.id);if(O.length>0){i("update:selectedModels",O);return}}const k=_.value.filter(O=>{const s=O.modelId.toLowerCase();return s.includes("nano")||s.includes("mini")||s.includes("haiku")||s.includes("3.5")||s.includes("mistral")||s.includes("llama3")}).slice(0,5).map(O=>O.id);k.length===0?i("update:selectedModels",_.value.slice(0,5).map(O=>O.id)):i("update:selectedModels",k)}function n(u){return u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:`${u}`}function $(u){var q,D;const k=(q=u.capabilities)==null?void 0:q.inputCostPerToken,O=(D=u.capabilities)==null?void 0:D.outputCostPerToken;if(!k&&!O)return null;const s=((k||0)+(O||0))/2*1e6;return s===0?null:s<.01?s.toFixed(4):s<1?s.toFixed(2):s.toFixed(0)}return te(()=>{a.selectedModels.length===0&&m()}),(u,k)=>{const O=I("a-input-search"),s=I("a-button"),q=I("a-button-group"),D=I("a-checkbox");return d(),y("div",zs,[e("div",Rs,[e("h3",null,"Select "+g(u.providerName)+" Models",1),e("div",Ts,[o(O,{value:C.value,"onUpdate:value":k[0]||(k[0]=E=>C.value=E),placeholder:"Search models...",size:"small",style:{width:"200px"}},null,8,["value"]),o(q,{size:"small"},{default:c(()=>[o(s,{onClick:N},{default:c(()=>k[1]||(k[1]=[h("Select All")])),_:1,__:[1]}),o(s,{onClick:r},{default:c(()=>k[2]||(k[2]=[h("Select None")])),_:1,__:[2]}),o(s,{onClick:m},{default:c(()=>k[3]||(k[3]=[h("Defaults")])),_:1,__:[3]})]),_:1})])]),k[4]||(k[4]=e("div",{class:"description-row"},[e("p",{class:"header-description"}," Choose which models appear in the UI. You can always enable/disable more models in the Models tab. ")],-1)),e("div",Ws,[(d(!0),y(Z,null,X(A.value,E=>(d(),y("label",{key:E.id,class:"model-item"},[o(D,{checked:b(E.id),onChange:U=>P(E.id)},{default:c(()=>{var U;return[e("div",Ds,[e("code",Es,g(E.modelId),1),e("span",Ls,[(U=E.capabilities)!=null&&U.contextWindow?(d(),y("span",Fs,g(n(E.capabilities.contextWindow)),1)):W("",!0),$(E)?(d(),y("span",Ns," $"+g($(E))+"/1M ",1)):W("",!0)])])]}),_:2},1032,["checked","onChange"])]))),128))]),e("div",Bs,[e("span",null,g(u.selectedModels.length)+" models selected",1)])])}}}),Ks=Y(Us,[["__scopeId","data-v-cd6e7b82"]]),qs={class:"openrouter-settings"},Gs={class:"privacy-warning"},Hs={class:"settings-options"},Vs={class:"setting-option"},js={class:"setting-option"},Ys={class:"model-preview"},Qs={class:"preview-list"},Xs={key:0,class:"preview-item hidden"},Zs={key:1,class:"preview-item hidden"},Js={key:2,class:"preview-item shown"},eo={class:"settings-actions"},to=j({__name:"WizardOpenRouterSettings",emits:["save","cancel"],setup(x,{emit:f}){const a=f,i=L({hideOpenRouterFree:!0,hideOpenRouterAuto:!0}),v=R(()=>i.value.hideOpenRouterFree||i.value.hideOpenRouterAuto);async function _(){await V.settings.get("main")?await V.settings.update("main",{hideOpenRouterFree:i.value.hideOpenRouterFree,hideOpenRouterAuto:i.value.hideOpenRouterAuto}):await V.settings.add({id:"main",version:1,initialized:!0,hideOpenRouterFree:i.value.hideOpenRouterFree,hideOpenRouterAuto:i.value.hideOpenRouterAuto}),a("save",i.value)}function C(){a("cancel")}return(A,b)=>{const P=I("a-checkbox"),N=I("a-button");return d(),y("div",qs,[e("div",Gs,[o(S(Pe),{class:"warning-icon"}),b[2]||(b[2]=e("div",{class:"warning-content"},[e("h4",null,"About Free Models"),e("p",null,[h(" OpenRouter offers some models for free. However, "),e("strong",null,"your prompts and responses may be sold, publicly released, and used to train models"),h(". Free models are rate-limited and should not be used for sensitive data. ")])],-1))]),e("div",Hs,[e("label",Vs,[o(P,{checked:i.value.hideOpenRouterFree,"onUpdate:checked":b[0]||(b[0]=r=>i.value.hideOpenRouterFree=r)},{default:c(()=>b[3]||(b[3]=[e("div",{class:"option-content"},[e("strong",null,"Hide free models"),e("span",{class:"option-desc"},"Free models may use your data for training")],-1)])),_:1,__:[3]},8,["checked"])]),e("label",js,[o(P,{checked:i.value.hideOpenRouterAuto,"onUpdate:checked":b[1]||(b[1]=r=>i.value.hideOpenRouterAuto=r)},{default:c(()=>b[4]||(b[4]=[e("div",{class:"option-content"},[e("strong",null,"Hide Auto Router"),e("span",{class:"option-desc"},"Auto Router automatically selects models, making costs unpredictable")],-1)])),_:1,__:[4]},8,["checked"])])]),e("div",Ys,[e("h4",null,"Models that will be "+g(v.value?"hidden":"shown")+":",1),e("div",Qs,[i.value.hideOpenRouterFree?(d(),y("div",Xs,[o(S(oe)),b[5]||(b[5]=h(" All free models (pricing = $0) "))])):W("",!0),i.value.hideOpenRouterAuto?(d(),y("div",Zs,[o(S(oe)),b[6]||(b[6]=h(" openrouter/auto (meta-model router) "))])):W("",!0),v.value?W("",!0):(d(),y("div",Js,[o(S(ee)),b[7]||(b[7]=h(" All OpenRouter models will be shown "))]))])]),e("div",eo,[o(N,{onClick:C,size:"large"},{default:c(()=>b[8]||(b[8]=[h(" Cancel ")])),_:1,__:[8]}),o(N,{type:"primary",onClick:_,size:"large"},{default:c(()=>b[9]||(b[9]=[h(" Save Settings ")])),_:1,__:[9]})])])}}}),so=Y(to,[["__scopeId","data-v-0c2211de"]]),oo={class:"wizard-provider-config"},no={class:"provider-header"},ao={class:"provider-icon"},io={key:0,class:"api-key-stage"},lo={class:"help-link"},ro=["href"],uo={class:"stage-actions"},co={key:1,class:"ollama-check-stage"},po={class:"ollama-info"},vo={class:"ollama-manager-wrapper"},mo={class:"stage-actions"},fo={key:2,class:"ollama-endpoints-stage"},go={class:"endpoint-selection"},yo={class:"endpoint-option"},ho={class:"endpoint-option"},_o={class:"endpoint-note"},ko={class:"stage-actions"},wo={key:3,class:"openai-endpoints-stage"},bo={class:"endpoint-selection"},So={class:"endpoint-option"},Co={class:"endpoint-option"},$o={class:"endpoint-note"},Mo={class:"stage-actions"},Oo={key:4,class:"model-select-stage"},Ao={class:"model-select-option"},Po={class:"model-name"},xo={key:0,class:"model-cost"},Io={key:0,class:"test-preview"},zo={class:"test-info"},Ro={class:"info-item"},To={class:"info-item"},Wo={key:0},Do={key:1},Eo={class:"stage-actions"},Lo={key:5,class:"testing-stage"},Fo={class:"test-status"},No={key:6,class:"results-stage"},Bo={class:"test-details"},Uo={class:"detail-item"},Ko={class:"response-text"},qo={class:"detail-item"},Go={class:"detail-item"},Ho={key:0,class:"detail-item"},Vo={key:7,class:"openrouter-settings-stage"},jo={key:8,class:"models-stage"},Yo={class:"stage-actions"},Qo="Hello! Respond with a one-word greeting.",Se=16,Xo=j({__name:"WizardProviderConfig",emits:["continue","complete"],setup(x,{emit:f}){const a=f,i=ie(),v=ae(),_=v.secureSettings,C=st(),{modelsByProvider:A}=pe(),b=ot(),P=R(()=>{try{const l=b.estimateTokens(Qo);return typeof l=="number"&&l>0?l:10}catch(l){return K.warn("Token calculation failed:",l),10}}),N=new at(l=>C.startTrialWithStreaming(l)),r=L("api-key"),m=L(""),n=L(""),$=L([]),u=L(""),k=L(["ollama-chat"]),O=L(["openai-responses"]),s=L(null),q=R(()=>[...A.value[G.value]||[]].sort((p,M)=>{var T,H;const w=(T=p.capabilities)==null?void 0:T.inputCostPerToken,z=(H=M.capabilities)==null?void 0:H.inputCostPerToken;return w!==void 0&&z!==void 0?w-z:w!==void 0&&z===void 0?-1:w===void 0&&z!==void 0?1:(p.displayName||p.modelId).localeCompare(M.displayName||M.modelId)}).map(p=>{var M,w;return{id:p.id,modelId:p.modelId,name:p.displayName||p.modelId,inputCost:(M=p.capabilities)!=null&&M.inputCostPerToken?p.capabilities.inputCostPerToken*1e6:void 0,outputCost:(w=p.capabilities)!=null&&w.outputCostPerToken?p.capabilities.outputCostPerToken*1e6:void 0}})),D=L({success:!1}),E={"openai-chat":"gpt-4.1-nano-2025-04-14","openai-responses":"gpt-4.1-nano-2025-04-14",anthropic:"claude-3-haiku-20240307",openrouter:"mistralai/mistral-nemo","ollama-chat":"llama3.2"},U=R(()=>i.currentProviderId||""),G=R(()=>{const l=U.value;switch(l){case"ollama":return"ollama-chat";case"openai":return"openai-chat";case"anthropic":return"anthropic";case"openrouter":return"openrouter";default:return l}}),se=R(()=>u.value||E[G.value]||"unknown"),me=R(()=>{if(!u.value)return null;try{const t=(A.value[G.value]||[]).find(H=>H.modelId===u.value);if(!(t!=null&&t.capabilities))return null;const p=t.capabilities.inputCostPerToken,M=t.capabilities.outputCostPerToken;if(typeof p!="number"||typeof M!="number")return"Free";const w=P.value*p,z=Se*M,T=w+z;return!Number.isFinite(T)||T<0?null:T===0?"Free":`$${fe(T)}`}catch(l){return K.warn("Cost calculation failed:",l),null}});function xe(l,t){var w,z;const p=l.toLowerCase();return(((w=t.label)==null?void 0:w.toLowerCase())||((z=t.value)==null?void 0:z.toLowerCase())||"").includes(p)}function fe(l){if(l===0)return"0.000000";if(l<1e-6){const t=Math.floor(Math.log10(l)),p=Math.max(6,Math.abs(t)+1);return l.toFixed(p)}return l.toFixed(6)}const le=R(()=>{const l=U.value;return{ollama:{name:"Ollama",icon:"ü¶ô",group:"ollama"},anthropic:{name:"Anthropic",icon:"üß†",group:"anthropic"},openrouter:{name:"OpenRouter",icon:"üåê",group:"openrouter"},openai:{name:"OpenAI",icon:"ü§ñ",group:"openai"}}[l]||{name:"Unknown",icon:"‚ùì",group:"unknown"}}),Q=R(()=>le.value.name),Ie=R(()=>le.value.icon),ge=R(()=>le.value.group),ze=R(()=>{const l=i.providerQueue;return i.currentProviderIndex<l.length-1});function Re(){return{anthropic:"https://console.anthropic.com/account/keys",openrouter:"https://openrouter.ai/keys",openai:"https://platform.openai.com/api-keys",ollama:"https://ollama.com"}[U.value]||"#"}function Te(l){var M,w;const t=((M=l.message)==null?void 0:M.toLowerCase())||"",p=l.status||((w=l.response)==null?void 0:w.status);return t==="timeout"?"Test timed out after 30 seconds. The API may be overloaded or slow.":t.includes("network")||t.includes("fetch")||t.includes("connection")?"Network connection failed. Check your internet connection and try again.":p===401||t.includes("unauthorized")||t.includes("api key")||t.includes("authentication")?"Invalid API key. Please check your API key and try again.":p===429||t.includes("rate limit")||t.includes("too many requests")?"Rate limit exceeded. Please wait a moment and try again.":p===402||t.includes("quota")||t.includes("billing")||t.includes("usage")?"Account quota exceeded. Please check your billing status.":p===404||t.includes("model")&&t.includes("not found")?"Selected model is not available. Please try a different model.":p>=500||t.includes("server error")||t.includes("internal error")?"Server error. The API service may be temporarily unavailable.":`Connection failed: ${l.message||"Unknown error"}`}async function ye(){const l=U.value;if(!m.value.trim()){n.value="API key is required";return}const t=v.secureSettings.hasSetupApiKeySecurity()?v.secureSettings.getDefaultSecurityMode():"plaintext";await _.setApiKey(ge.value,m.value.trim(),t),l==="openrouter"?r.value="openrouter-settings":r.value="model-select"}async function We(){var l,t;s.value&&s.value.abort(),s.value=new AbortController,r.value="testing",n.value="";try{const p=U.value;let M=G.value;p==="ollama"&&k.value.length>0?M=k.value[0]:p==="openai"&&O.value.length>0&&(M=O.value[0]);const w={provider:M,modelId:se.value,temperature:.7,stream:!1};M==="openai-chat"?w.max_completion_tokens=16:M==="openai-responses"?w.max_output_tokens=16:M==="anthropic"||M==="openrouter"?w.max_tokens=16:M==="ollama-chat"&&(w.num_predict=16);const z=new Promise((H,de)=>{setTimeout(()=>de(new Error("TIMEOUT")),3e4)}),T=await Promise.race([N.executePlaygroundCall("Hello! Respond with a one-word greeting.",w),z]);if(T.ok){const H=T.value;D.value={success:!0,response:H.content||"Test successful",latency:H.latency,cost:((l=H.cost)==null?void 0:l.total)||0}}else throw T.error;r.value="results"}catch(p){if(p.name==="AbortError"||(t=p.message)!=null&&t.includes("abort"))return;D.value={success:!1,error:Te(p)},r.value="results"}}function De(){const l=U.value;l==="ollama"?r.value="ollama-endpoints":l==="openai"?r.value="openai-endpoints":r.value="api-key"}function re(){i.setProviderConfig(U.value,{testStatus:"skipped",enabledModels:[]}),i.nextProvider()?he():a("complete")}async function Ee(){const t={"openai-chat":"openai-defaults","openai-responses":"openai-defaults",anthropic:"anthropic-defaults"}[G.value];if(t)try{await it().applyList(t),await new Promise(M=>setTimeout(M,100))}catch(p){K.error(`Failed to apply ${t} list:`,p)}await Ne(),r.value="models"}function Le(){r.value="model-select"}function Fe(){r.value="api-key"}async function Ne(){const l=A.value[G.value]||[];if($.value=l.filter(t=>t.enabled).map(t=>t.id),$.value.length===0){const t=l.slice(0,5).map(p=>p.id);$.value=t}}async function Be(){const l=U.value;let t=[];l==="ollama"?t=k.value:l==="openai"?t=O.value:t=[G.value];const p=new Set($.value.map(z=>{const T=z.indexOf(":");return T>-1?z.substring(T+1):z}));for(const z of t)await V.models.where("provider").equals(z).modify(T=>{T.enabled=p.has(T.modelId),T.userModified=!0});const M=[];l==="ollama"?M.push("ollama-chat","ollama-generate"):l==="openai"&&M.push("openai-chat","openai-responses");const w=M.filter(z=>!t.includes(z));for(const z of w)await V.models.where("provider").equals(z).modify(T=>{T.enabled=!1,T.userModified=!0});i.setProviderConfig(U.value,{apiKey:m.value,testStatus:"success",testResponse:{content:D.value.response||"",latency:D.value.latency||0,model:se.value},enabledModels:$.value}),i.nextProvider()?he():a("complete")}function he(){s.value&&(s.value.abort(),s.value=null);const l=U.value;if(l==="ollama"){const t=A.value["ollama-chat"]||[];r.value=t.length>0?"ollama-endpoints":"ollama-check"}else l==="openai"?r.value="openai-endpoints":r.value="api-key";m.value="",$.value=[],u.value="",D.value={success:!1},n.value="",k.value=["ollama-chat"],O.value=["openai-responses"]}function Ue(){var M;const l=A.value[G.value]||[];if(l.length===0)return;const t=E[G.value],p=l.find(w=>w.modelId===t);u.value=(p==null?void 0:p.modelId)||((M=l[0])==null?void 0:M.modelId)||""}function Ke(){if(k.value.length===0){J.warning("Please select at least one Ollama endpoint");return}i.setSelectedEndpoints({...i.selectedEndpoints,ollama:k.value}),r.value="model-select"}async function qe(){if(O.value.length===0){J.warning("Please select at least one OpenAI endpoint");return}i.setSelectedEndpoints({...i.selectedEndpoints,openai:O.value}),r.value="api-key"}async function _e(){await ce().discoverModels({forceRefresh:!0}),(A.value["ollama-chat"]||[]).length>0?r.value="ollama-endpoints":J.info("Refreshing models... This may take a moment.")}async function Ge(){await _e()}return ue(()=>i.currentProviderId,async l=>{if(l){const t=l;if(t!=="ollama"&&t!=="openai"){const p=await _.getApiKey(t);p&&(m.value=p)}}}),ue([()=>A.value[G.value],()=>G.value],([l,t],[,p])=>{l&&l.length>0&&(!u.value||t!==p)&&Ue()},{immediate:!0}),ue(()=>A.value["ollama-chat"],l=>{U.value==="ollama"&&r.value==="ollama-check"&&l&&l.length>0&&(r.value="ollama-endpoints")},{immediate:!1}),te(async()=>{const l=U.value;if(l==="ollama"){(A.value["ollama-chat"]||[]).length>0?r.value="ollama-endpoints":r.value="ollama-check";return}if(l==="openai"){r.value="openai-endpoints";const p=await _.getApiKey(l);p&&(m.value=p);return}r.value="api-key";const t=await _.getApiKey(ge.value);t&&(m.value=t)}),Oe(()=>{s.value&&s.value.abort()}),(l,t)=>{const p=I("a-input-password"),M=I("a-form-item"),w=I("a-button"),z=I("a-checkbox"),T=I("a-checkbox-group"),H=I("a-alert"),de=I("a-select-option"),He=I("a-select"),ke=I("a-result"),Ve=I("a-space");return d(),y("div",oo,[e("div",no,[e("span",ao,g(Ie.value),1),e("h2",null,"Configure "+g(Q.value),1)]),r.value==="api-key"?(d(),y("div",io,[o(M,{label:"API Key","validate-status":n.value?"error":"",help:n.value},{default:c(()=>[o(p,{value:m.value,"onUpdate:value":t[0]||(t[0]=F=>m.value=F),size:"large",placeholder:`Enter your ${Q.value} API key`,onKeyup:nt(ye,["enter"])},null,8,["value","placeholder"])]),_:1},8,["validate-status","help"]),e("div",lo,[e("a",{href:Re(),target:"_blank"},[o(S(Ae)),h(" How to get "+g(Q.value)+" API key ",1)],8,ro)]),e("div",uo,[o(w,{onClick:re,size:"large"},{default:c(()=>[h(" Skip "+g(Q.value),1)]),_:1}),o(w,{type:"primary",onClick:ye,size:"large",disabled:!m.value.trim()},{default:c(()=>t[7]||(t[7]=[h(" Continue ")])),_:1,__:[7]},8,["disabled"])])])):W("",!0),r.value==="ollama-check"?(d(),y("div",co,[e("div",po,[t[10]||(t[10]=e("h3",null,"Ollama Needs Models",-1)),t[11]||(t[11]=e("p",null,"Ollama is running but no models are installed. Use the model manager below to install models:",-1)),e("div",vo,[o(dt,{onModelsUpdated:Ge})]),e("div",mo,[o(w,{onClick:re,size:"large"},{default:c(()=>t[8]||(t[8]=[h(" Skip Ollama ")])),_:1,__:[8]}),o(w,{type:"primary",onClick:_e,size:"large"},{default:c(()=>t[9]||(t[9]=[h(" Continue with Installed Models ")])),_:1,__:[9]})])])])):W("",!0),r.value==="ollama-endpoints"?(d(),y("div",fo,[e("div",go,[t[15]||(t[15]=e("h3",null,"Select Ollama Endpoints",-1)),t[16]||(t[16]=e("p",{class:"description"}," Choose which Ollama endpoints to enable. If unsure, we recommend using just the Chat endpoint. ",-1)),o(T,{value:k.value,"onUpdate:value":t[1]||(t[1]=F=>k.value=F),class:"endpoint-options"},{default:c(()=>[e("div",yo,[o(z,{value:"ollama-chat"},{default:c(()=>t[12]||(t[12]=[e("div",{class:"endpoint-info"},[e("div",{class:"endpoint-name"},"Chat Endpoint (Recommended)"),e("div",{class:"endpoint-desc"},"Standard chat completions API - works with most models")],-1)])),_:1,__:[12]})]),e("div",ho,[o(z,{value:"ollama-generate"},{default:c(()=>t[13]||(t[13]=[e("div",{class:"endpoint-info"},[e("div",{class:"endpoint-name"},"Generate Endpoint (Advanced)"),e("div",{class:"endpoint-desc"},"Raw generation API - for advanced use cases")],-1)])),_:1,__:[13]})])]),_:1},8,["value"]),e("div",_o,[o(H,{type:"info",message:"Models you select will be enabled for all chosen endpoints","show-icon":""})]),e("div",ko,[o(w,{type:"primary",size:"large",onClick:Ke},{default:c(()=>t[14]||(t[14]=[h(" Continue to Model Selection ")])),_:1,__:[14]})])])])):W("",!0),r.value==="openai-endpoints"?(d(),y("div",wo,[e("div",bo,[t[20]||(t[20]=e("h3",null,"Select OpenAI Endpoints",-1)),t[21]||(t[21]=e("p",{class:"description"}," Choose which OpenAI endpoints to enable. Both work with all OpenAI models. ",-1)),o(T,{value:O.value,"onUpdate:value":t[2]||(t[2]=F=>O.value=F),class:"endpoint-options"},{default:c(()=>[e("div",So,[o(z,{value:"openai-chat"},{default:c(()=>t[17]||(t[17]=[e("div",{class:"endpoint-info"},[e("div",{class:"endpoint-name"},"Chat Completions API"),e("div",{class:"endpoint-desc"},"Traditional OpenAI endpoint - widely supported")],-1)])),_:1,__:[17]})]),e("div",Co,[o(z,{value:"openai-responses"},{default:c(()=>t[18]||(t[18]=[e("div",{class:"endpoint-info"},[e("div",{class:"endpoint-name"},"Responses API (Recommended)"),e("div",{class:"endpoint-desc"},"Newer endpoint with better error handling and structured outputs")],-1)])),_:1,__:[18]})])]),_:1},8,["value"]),e("div",$o,[o(H,{type:"info",message:"Models you select will be enabled for all chosen endpoints","show-icon":""})]),e("div",Mo,[o(w,{type:"primary",size:"large",onClick:qe},{default:c(()=>t[19]||(t[19]=[h(" Continue to Model Selection ")])),_:1,__:[19]})])])])):W("",!0),r.value==="model-select"?(d(),y("div",Oo,[e("h3",null,"Select a model to test "+g(Q.value),1),t[28]||(t[28]=e("p",null,"Choose which model to use for testing the connection:",-1)),o(He,{value:u.value,"onUpdate:value":t[3]||(t[3]=F=>u.value=F),size:"large",placeholder:"Select a model to test",style:{width:"100%"},"show-search":"","filter-option":xe},{default:c(()=>[(d(!0),y(Z,null,X(q.value,F=>(d(),B(de,{key:F.id,value:F.modelId},{default:c(()=>[e("div",Ao,[e("code",Po,g(F.name),1),F.inputCost!==void 0&&F.outputCost!==void 0?(d(),y("span",xo," $"+g(F.inputCost.toFixed(4))+"/1M in, $"+g(F.outputCost.toFixed(4))+"/1M out ",1)):W("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),u.value?(d(),y("div",Io,[t[25]||(t[25]=e("h4",null,"Test Details",-1)),e("div",zo,[t[24]||(t[24]=e("div",{class:"info-item"},[e("strong",null,"Prompt:"),e("code",{class:"prompt-text"},"Hello! Respond with a one-word greeting.")],-1)),e("div",Ro,[t[22]||(t[22]=e("strong",null,"Estimated tokens:",-1)),e("span",null,g(P.value)+" input, "+g(Se)+" output (capped)",1)]),e("div",To,[t[23]||(t[23]=e("strong",null,"Estimated cost:",-1)),me.value?(d(),y("span",Wo,g(me.value),1)):(d(),y("span",Do,"Free (local model)"))])])])):W("",!0),e("div",Eo,[o(w,{onClick:De,size:"large"},{default:c(()=>t[26]||(t[26]=[h(" Back ")])),_:1,__:[26]}),o(w,{type:"primary",onClick:We,size:"large",disabled:!u.value},{default:c(()=>t[27]||(t[27]=[h(" Test Connection ")])),_:1,__:[27]},8,["disabled"])])])):W("",!0),r.value==="testing"?(d(),y("div",Lo,[e("div",Fo,[o(S(Me),{spin:"",class:"test-spinner"}),e("p",null,"Testing connection with "+g(se.value)+"...",1),t[29]||(t[29]=e("p",{class:"test-detail"},"Sending test prompt...",-1))])])):W("",!0),r.value==="results"?(d(),y("div",No,[D.value.success?(d(),B(ke,{key:0,status:"success",title:`${Q.value} Connected Successfully!`},{extra:c(()=>[e("div",Bo,[e("div",Uo,[t[30]||(t[30]=e("strong",null,"Response:",-1)),e("div",Ko,g(D.value.response),1)]),e("div",qo,[t[31]||(t[31]=e("strong",null,"Model:",-1)),h(" "+g(se.value),1)]),e("div",Go,[t[32]||(t[32]=e("strong",null,"Latency:",-1)),h(" "+g(D.value.latency)+"ms ",1)]),D.value.cost!==void 0&&D.value.cost>0?(d(),y("div",Ho,[t[33]||(t[33]=e("strong",null,"Actual Cost:",-1)),h(" $"+g(fe(D.value.cost)),1)])):W("",!0)]),o(w,{type:"primary",onClick:Ee,size:"large"},{default:c(()=>t[34]||(t[34]=[h(" Select Models ")])),_:1,__:[34]})]),_:1},8,["title"])):(d(),B(ke,{key:1,status:"error",title:`${Q.value} Connection Failed`,"sub-title":D.value.error},{extra:c(()=>[o(Ve,null,{default:c(()=>[o(w,{onClick:t[4]||(t[4]=F=>r.value="api-key")},{default:c(()=>t[35]||(t[35]=[h(" Try Different Key ")])),_:1,__:[35]}),o(w,{onClick:re},{default:c(()=>[h(" Skip "+g(Q.value),1)]),_:1})]),_:1})]),_:1},8,["title","sub-title"]))])):W("",!0),r.value==="openrouter-settings"?(d(),y("div",Vo,[o(so,{onSave:Le,onCancel:Fe})])):W("",!0),r.value==="models"?(d(),y("div",jo,[o(Ks,{"provider-id":G.value,"provider-name":Q.value,"selected-models":$.value,"onUpdate:selectedModels":t[5]||(t[5]=F=>$.value=F)},null,8,["provider-id","provider-name","selected-models"]),e("div",Yo,[o(w,{onClick:t[6]||(t[6]=F=>r.value="results"),size:"large"},{default:c(()=>t[36]||(t[36]=[h(" Back ")])),_:1,__:[36]}),o(w,{type:"primary",onClick:Be,size:"large"},{default:c(()=>[h(g(ze.value?"Next Provider":"Complete Setup"),1)]),_:1})])])):W("",!0)])}}}),Zo=Y(Xo,[["__scopeId","data-v-e057ced6"]]),Jo={class:"wizard-complete"},en={class:"completion-header"},tn={class:"success-animation"},sn={class:"setup-summary"},on={class:"summary-grid"},nn={class:"summary-card"},an={class:"card-content"},ln={class:"card-description"},rn={class:"summary-card"},dn={class:"card-content"},un={class:"card-description"},cn={class:"summary-card"},pn={class:"card-content"},vn={class:"card-description"},mn={class:"summary-card"},fn={class:"card-content"},gn={class:"card-description"},yn={class:"next-steps"},hn={class:"destination-options"},_n=["onClick"],kn={class:"destination-icon"},wn={class:"destination-content"},bn={class:"destination-title"},Sn={class:"destination-description"},Cn={class:"destination-indicator"},$n={class:"help-section"},Mn={class:"help-item"},On={class:"help-item"},An={class:"help-item"},Pn=j({__name:"WizardComplete",props:{environmentalMetrics:{},nextDestination:{}},emits:["destination-changed"],setup(x,{emit:f}){const a=x,i=f,v=ie(),_=ae(),{stats:C}=pe(),A=[{id:"playground",icon:"üéÆ",title:"Playground",description:"Quick testing with individual prompts and models"},{id:"models",icon:"ü§ñ",title:"Models",description:"Browse and manage available AI models"},{id:"templates",icon:"üìù",title:"Templates",description:"Create systematic prompt testing designs"},{id:"home",icon:"üè†",title:"Home",description:"Start from the main dashboard"}],b=R(()=>{const m=[];return a.environmentalMetrics.showCO2&&m.push("CO‚ÇÇ"),a.environmentalMetrics.showWater&&m.push("Water"),a.environmentalMetrics.showElectricity&&m.push("Energy"),m.length===0?"Tracking disabled":`Tracking ${m.join(", ")}`}),P=R(()=>{if(!_.secureSettings.hasSetupApiKeySecurity())return"Not configured";switch(_.secureSettings.getDefaultSecurityMode()){case"encrypted":return"Encrypted with master password";case"session":return"Session-only storage";case"plaintext":return"Plaintext storage";default:return"Not configured"}}),N=R(()=>{const n=Object.entries(v.providerConfigs).filter(([u,k])=>k.testStatus==="success");if(n.length===0)return"No providers configured";const $=n.map(([u])=>({"ollama-chat":"Ollama",anthropic:"Anthropic",openrouter:"OpenRouter","openai-chat":"OpenAI Chat","openai-responses":"OpenAI Responses"})[u]||u);return`${$.length} provider${$.length>1?"s":""}: ${$.join(", ")}`});function r(m){i("destination-changed",m)}return(m,n)=>(d(),y("div",Jo,[e("div",en,[e("div",tn,[o(S(ee),{class:"success-icon"})]),n[0]||(n[0]=e("h2",null,"Setup Complete!",-1)),n[1]||(n[1]=e("p",{class:"completion-message"}," You've successfully configured Auditomatic Lite. You're ready to start testing AI models. ",-1))]),e("div",sn,[n[10]||(n[10]=e("h3",null,"What You've Set Up",-1)),e("div",on,[e("div",nn,[n[3]||(n[3]=e("div",{class:"card-icon"},"üîí",-1)),e("div",an,[n[2]||(n[2]=e("div",{class:"card-title"},"Security",-1)),e("div",ln,g(P.value),1)])]),e("div",rn,[n[5]||(n[5]=e("div",{class:"card-icon"},"ü§ñ",-1)),e("div",dn,[n[4]||(n[4]=e("div",{class:"card-title"},"AI Providers",-1)),e("div",un,g(N.value),1)])]),e("div",cn,[n[7]||(n[7]=e("div",{class:"card-icon"},"üìä",-1)),e("div",pn,[n[6]||(n[6]=e("div",{class:"card-title"},"Models Ready",-1)),e("div",vn,g(S(C).enabled)+" models enabled",1)])]),e("div",mn,[n[9]||(n[9]=e("div",{class:"card-icon"},"üåç",-1)),e("div",fn,[n[8]||(n[8]=e("div",{class:"card-title"},"Environmental Tracking",-1)),e("div",gn,g(b.value),1)])])])]),e("div",yn,[n[11]||(n[11]=e("h3",null,"Where would you like to start?",-1)),e("div",hn,[(d(),y(Z,null,X(A,$=>e("div",{key:$.id,class:ne(["destination-card",{active:m.nextDestination===$.id}]),onClick:u=>r($.id)},[e("div",kn,g($.icon),1),e("div",wn,[e("div",bn,g($.title),1),e("div",Sn,g($.description),1)]),e("div",Cn,[m.nextDestination===$.id?(d(),B(S(ee),{key:0})):W("",!0)])],10,_n)),64))])]),n[15]||(n[15]=lt('<div class="getting-started-tips" data-v-009b4007><h4 data-v-009b4007>üí° Getting Started Tips</h4><div class="tips-grid" data-v-009b4007><div class="tip-item" data-v-009b4007><span class="tip-number" data-v-009b4007>1</span><span class="tip-text" data-v-009b4007>Start with the Playground for quick model testing</span></div><div class="tip-item" data-v-009b4007><span class="tip-number" data-v-009b4007>2</span><span class="tip-text" data-v-009b4007>Create Templates for systematic prompt testing</span></div><div class="tip-item" data-v-009b4007><span class="tip-number" data-v-009b4007>3</span><span class="tip-text" data-v-009b4007>Use Variable Lists to test multiple inputs</span></div><div class="tip-item" data-v-009b4007><span class="tip-number" data-v-009b4007>4</span><span class="tip-text" data-v-009b4007>Check Models page to browse available options</span></div></div></div>',1)),e("div",$n,[e("div",Mn,[o(S(Ae),{class:"help-icon"}),n[12]||(n[12]=e("span",null,"Need help? Check the getting started guide or hover over any ‚ìò icon throughout the app.",-1))]),e("div",On,[o(S(ut),{class:"help-icon"}),n[13]||(n[13]=e("span",null,"All your data is stored locally in your browser for complete privacy.",-1))]),e("div",An,[o(S(ct),{class:"help-icon"}),n[14]||(n[14]=e("span",null,"Remember to export your data regularly as a backup.",-1))])])]))}}),xn=Y(Pn,[["__scopeId","data-v-009b4007"]]),In={class:"wizard-fullscreen"},zn=j({__name:"WizardView",setup(x){const f=rt(),a=ie(),i=ae(),v=R(()=>i.secureSettings.hasSetupApiKeySecurity()),_=R(()=>{switch(a.currentStep){case 0:return!0;case 1:return!0;case 2:return v.value;case 3:return!0;case 4:return!0;case 5:return!1;default:return!1}});function C(){a.nextStep()}function A(){a.previousStep()}function b(){f.push("/")}async function P(){try{await a.completeWizard();const u=a.nextDestination;switch(u){case"playground":f.push("/playground");break;case"models":f.push("/models");break;case"templates":f.push("/templates");break;default:f.push("/")}K.info("Wizard completed successfully",{destination:u})}catch(u){K.error("Failed to complete wizard",u)}}async function N(){K.info("Security setup ready, running model discovery"),await ce().discoverModels({forceRefresh:!0}),a.nextStep(),K.info("Discovery complete, advancing to providers")}function r(){a.providerQueue.length>0?(a.startProviderConfiguration(),a.nextStep()):$()}function m(){K.info("Provider configuration continuing")}function n(){a.goToStep(5),K.info("All providers configured, moving to complete")}function $(){a.goToStep(5),K.info("Skipping to complete step")}return te(()=>{a.showWizard(),K.info("Wizard view mounted",{currentStep:a.currentStep,hasCompletedWizard:a.hasCompletedWizard})}),Oe(()=>{a.hideWizard()}),(u,k)=>(d(),y("div",In,[o($t,{"data-wizard-active":"","current-step":S(a).currentStep,"total-steps":S(a).totalSteps,"can-go-next":_.value,"can-go-back":S(a).canGoBack,"completed-steps":S(a).completedSteps,onNext:C,onBack:A,onClose:b,onComplete:P},{default:c(()=>[S(a).currentStep===0?(d(),B(zt,{key:0,onContinue:C})):S(a).currentStep===1?(d(),B(qt,{key:1,onContinue:C})):S(a).currentStep===2?(d(),B(rs,{key:2,onSecurityReady:N})):S(a).currentStep===3?(d(),B(Is,{key:3,onContinue:r,onSkip:$})):S(a).currentStep===4?(d(),B(Zo,{key:4,onContinue:m,onComplete:n})):S(a).currentStep===5?(d(),B(xn,{key:5,"environmental-metrics":S(a).environmentalMetrics,"next-destination":S(a).nextDestination,onDestinationChanged:S(a).setNextDestination},null,8,["environmental-metrics","next-destination","onDestinationChanged"])):W("",!0)]),_:1},8,["current-step","total-steps","can-go-next","can-go-back","completed-steps"])]))}}),qn=Y(zn,[["__scopeId","data-v-309a7e19"]]);export{qn as default};
