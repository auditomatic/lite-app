import{a as M,h as F}from"./index-CqLkMh3s.js";import{d as R,f as S,c as z,o as q,R as i,S as s,k as p,Z as c,_ as a,F as b,W as T,V as l,$ as w,Y as r,G as _,u as U,a0 as N,X as D}from"./vue-vendor-Cg89ltm_.js";import{u as Q}from"./parser.store-Cl4mvUmh.js";import{m as W,_ as X,n as Y,T as Z,C as A}from"./ui-vendor-COTxn_WH.js";import"./utils-vendor-BXgHPvEJ.js";import"./data-vendor-lJS7wsn4.js";const H={class:"parser-selector-view"},K={class:"selector-header"},ee={class:"selector-content"},te={class:"parser-list-panel"},se={class:"panel-header"},oe={class:"parser-groups"},ne={key:0,class:"parser-group"},re={class:"parser-list"},ie=["onClick"],le={class:"parser-item-header"},ae={class:"parser-name"},ue={key:0,class:"parser-description"},ce={key:1,class:"parser-group"},de={class:"parser-list"},pe=["onClick"],_e={class:"parser-item-header"},ve={class:"parser-name"},fe={key:0,class:"parser-description"},he={class:"parser-detail-panel"},ye={key:0,class:"no-selection"},ge={key:1,class:"parser-details"},me={class:"detail-header"},ke={class:"header-tags"},Ce={key:0,class:"detail-description"},Pe={class:"code-section"},xe={class:"code-container"},Se={key:0},be={key:1},Te={key:2},we={key:1,class:"test-cases-section"},Be={class:"test-cases-container"},Ie={class:"test-case-header"},Ve={class:"test-case-name"},ze={class:"test-case-body"},Ne={class:"test-field"},Oe={class:"field-value"},$e={key:0,class:"test-field"},je={class:"field-value output"},Le={key:1,class:"test-field"},Ee={class:"field-value expected"},Ge={class:"detail-actions"},Je=R({__name:"ParserSelectorView",setup(Me){const y=D(),h=Q(),g=S(""),o=S(null),v=S(h.getSelectionContext()),C=z(()=>{let t=h.parsers;const e=v.value?.filterType,u=v.value?.filterOutputType;if(e&&(t=t.filter(f=>f.type===e)),u&&(t=t.filter(f=>f.outputType===u)),g.value){const f=g.value.toLowerCase();t=t.filter(d=>d.name.toLowerCase().includes(f)||d.description?.toLowerCase().includes(f)||d.tags.some(x=>x.toLowerCase().includes(f)))}return t}),m=z(()=>{const t=C.value;return{builtIn:t.filter(e=>e.isBuiltIn),user:t.filter(e=>!e.isBuiltIn)}});function P(t){switch(t){case"regex":return"blue";case"javascript":return"orange";case"python":return"green";default:return"default"}}function B(t){o.value=t}function O(t){const e=t.config;let u=e.pattern;return e.flags&&(u+=`
Flags: ${e.flags}`),e.captureGroup!==void 0&&(u+=`
Capture Group: ${e.captureGroup}`),u}function $(t){return t.config.code}function j(t){return t.config.code}function I(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t;if(typeof t=="object")try{return JSON.stringify(t,null,2)}catch{return String(t)}return String(t)}function V(t,e){return typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<1e-4:typeof t=="object"&&typeof e=="object"?JSON.stringify(t)===JSON.stringify(e):t===e}function L(){if(!o.value||!v.value)return;const t=v.value.returnPath,e=v.value.context;h.clearSelectionContext(),y.push({path:t,query:{selectedParserId:o.value.id,context:e}})}function E(){if(!v.value){y.push("/parsers");return}const t=v.value.returnPath;h.clearSelectionContext(),y.push(t)}function G(){o.value&&!o.value.isBuiltIn&&y.push(`/parsers/${o.value.id}/edit`)}function J(){o.value}return q(async()=>{if(h.parsers.length===0&&await h.loadParsers(),v.value?.currentValue){const t=h.parsers.find(e=>e.id===v.value.currentValue);t&&(o.value=t)}else C.value.length>0&&(o.value=C.value[0])}),(t,e)=>{const u=W,f=X,d=Z,x=Y;return r(),i("div",H,[s("div",K,[e[2]||(e[2]=s("h1",null,"Select Parser",-1)),p(u,{type:"text",size:"large",onClick:E},{icon:c(()=>[p(U(A))]),default:c(()=>[e[1]||(e[1]=_(" Cancel "))]),_:1,__:[1]})]),s("div",ee,[s("div",te,[s("div",se,[e[3]||(e[3]=s("h3",null,"Select Parser",-1)),p(f,{value:g.value,"onUpdate:value":e[0]||(e[0]=n=>g.value=n),placeholder:"Search parsers...","allow-clear":"",style:{"margin-bottom":"16px"}},null,8,["value"])]),s("div",oe,[m.value.builtIn.length>0?(r(),i("div",ne,[e[4]||(e[4]=s("div",{class:"group-header"},"Built-in Parsers",-1)),s("div",re,[(r(!0),i(b,null,T(m.value.builtIn,n=>(r(),i("div",{key:n.id,class:N(["parser-item",{active:o.value?.id===n.id}]),onClick:k=>B(n)},[s("div",le,[s("span",ae,l(n.name),1),p(d,{color:P(n.type),size:"small"},{default:c(()=>[_(l(n.type),1)]),_:2},1032,["color"])]),n.description?(r(),i("div",ue,l(n.description),1)):a("",!0)],10,ie))),128))])])):a("",!0),m.value.user.length>0?(r(),i("div",ce,[e[5]||(e[5]=s("div",{class:"group-header"},"Custom Parsers",-1)),s("div",de,[(r(!0),i(b,null,T(m.value.user,n=>(r(),i("div",{key:n.id,class:N(["parser-item",{active:o.value?.id===n.id}]),onClick:k=>B(n)},[s("div",_e,[s("span",ve,l(n.name),1),p(d,{color:P(n.type),size:"small"},{default:c(()=>[_(l(n.type),1)]),_:2},1032,["color"])]),n.description?(r(),i("div",fe,l(n.description),1)):a("",!0)],10,pe))),128))])])):a("",!0)])]),s("div",he,[o.value?(r(),i("div",ge,[s("div",me,[s("h2",null,l(o.value.name),1),s("div",ke,[p(d,{color:P(o.value.type)},{default:c(()=>[_(l(o.value.type.toUpperCase()),1)]),_:1},8,["color"]),p(d,null,{default:c(()=>[_(l(o.value.outputType),1)]),_:1}),o.value.isBuiltIn?(r(),w(d,{key:0,color:"blue"},{default:c(()=>e[6]||(e[6]=[_("Built-in")])),_:1,__:[6]})):a("",!0)])]),o.value.description?(r(),i("div",Ce,l(o.value.description),1)):a("",!0),s("div",Pe,[s("h3",null,l(o.value.type==="regex"?"Pattern":"Code"),1),s("div",xe,[o.value.type==="regex"?(r(),i("pre",Se,l(O(o.value)),1)):o.value.type==="javascript"?(r(),i("pre",be,l($(o.value)),1)):o.value.type==="python"?(r(),i("pre",Te,l(j(o.value)),1)):a("",!0)])]),o.value.testCases&&o.value.testCases.length>0?(r(),i("div",we,[s("h3",null,"Test Cases ("+l(o.value.testCases.length)+")",1),s("div",Be,[(r(!0),i(b,null,T(o.value.testCases,(n,k)=>(r(),i("div",{key:k,class:"test-case"},[s("div",Ie,[s("span",Ve,l(n.name||`Test Case ${k+1}`),1)]),s("div",ze,[s("div",Ne,[e[7]||(e[7]=s("span",{class:"field-label"},"Input:",-1)),s("code",Oe,l(n.input),1)]),n.output!==void 0?(r(),i("div",$e,[e[8]||(e[8]=s("span",{class:"field-label"},"Output:",-1)),s("code",je,l(I(n.output)),1)])):a("",!0),n.expected!==void 0?(r(),i("div",Le,[e[9]||(e[9]=s("span",{class:"field-label"},"Expected:",-1)),s("code",Ee,l(I(n.expected)),1),n.output!==void 0?(r(),w(d,{key:0,color:V(n.output,n.expected)?"success":"error",size:"small",style:{"margin-left":"8px"}},{default:c(()=>[_(l(V(n.output,n.expected)?"Match":"Mismatch"),1)]),_:2},1032,["color"])):a("",!0)])):a("",!0)])]))),128))])])):a("",!0),s("div",Ge,[p(u,{type:"primary",size:"large",onClick:L},{default:c(()=>e[10]||(e[10]=[_(" Select This Parser ")])),_:1,__:[10]}),o.value.isBuiltIn?a("",!0):(r(),w(u,{key:0,size:"large",onClick:G},{default:c(()=>e[11]||(e[11]=[_(" Edit Parser ")])),_:1,__:[11]})),p(u,{size:"large",onClick:J},{default:c(()=>e[12]||(e[12]=[_(" Test Parser ")])),_:1,__:[12]})])])):(r(),i("div",ye,[p(x,{description:"Select a parser to view details"})]))])])])}}}),We=F(Je,[["__scopeId","data-v-6d764f19"]]);export{We as default};
