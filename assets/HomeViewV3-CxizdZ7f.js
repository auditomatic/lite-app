import{e as b,I as T,f as at,u as nt,T as lt,r as _,c as d,v as rt,a as ot,h as v,i as e,A as g,C as r,H as h,U as it,F as O,D as C,V as dt,L as ut,W as ct,X as vt,R as mt,j as m,k as pt}from"./index-SihudOJq.js";import{u as gt}from"./useV4Models-DMdNHk6U.js";import"./useV4LiveQuery-DZcN7iLj.js";var bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};function D(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},u=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(l).filter(function(o){return Object.getOwnPropertyDescriptor(l,o).enumerable}))),u.forEach(function(o){ft(i,o,l[o])})}return i}function ft(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var B=function(n,l){var u=D({},n,l.attrs);return b(T,D({},u,{icon:bt}),null)};B.displayName="BarChartOutlined";B.inheritAttrs=!1;var ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1a184.31 184.31 0 00-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9a184.31 184.31 0 00-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8a63 63 0 01-63 63H232a63 63 0 01-63-63c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7a273 273 0 0022.7 49c24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2a281.38 281.38 0 00123.2-149.5A120 120 0 01836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3C584 874.3 548.8 884 512 884s-72-9.7-102.9-27.8c-30.3-17.7-55.6-43-73.3-73.3A202.75 202.75 0 01308 680V412h408v268z"}}]},name:"bug",theme:"outlined"};function M(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},u=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(l).filter(function(o){return Object.getOwnPropertyDescriptor(l,o).enumerable}))),u.forEach(function(o){yt(i,o,l[o])})}return i}function yt(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var w=function(n,l){var u=M({},n,l.attrs);return b(T,M({},u,{icon:ht}),null)};w.displayName="BugOutlined";w.inheritAttrs=!1;const Ot={class:"home-view","data-testid":"page-home"},Ct={class:"status-section"},Vt={class:"status-grid"},_t={class:"status-card"},Bt={class:"status-value"},wt={class:"status-card"},Pt={class:"status-value"},St={class:"status-card"},At={class:"status-value"},kt={class:"status-card"},xt={class:"status-value"},Lt={class:"dashboard-grid"},Nt={class:"card-content"},$t={class:"recent-items"},jt={class:"card-content"},Dt={class:"recent-items"},Mt={class:"card-content"},Tt={class:"recent-items"},zt={class:"card-content"},It={class:"recent-items"},Et={class:"card-content"},Ht={class:"provider-summary"},Rt={class:"card-content"},Ut={class:"settings-summary"},Ft={class:"card-content"},Wt={class:"debug-summary"},Xt=at({__name:"HomeViewV3",setup(i){var x,L,N,$;const n=mt(),{models:l,modelsByProvider:u}=gt(),o=nt(),z=`v${lt.short}`,P=o.templates.templates,S=((L=(x=o.spreadsheet)==null?void 0:x.prompts)==null?void 0:L.prompts)||_([]),A=o.variableLists,y=o.trials,I=(($=(N=o.settings)==null?void 0:N.core)==null?void 0:$.preferences)||_(null),E=d(()=>{var a,t;return(((a=P.value)==null?void 0:a.length)||0)+(((t=S.value)==null?void 0:t.length)||0)}),H=d(()=>{var a;return((a=A.value)==null?void 0:a.length)||0}),R=d(()=>{var a;return((a=y.value)==null?void 0:a.length)||0}),U=d(()=>{var a;return((a=y.value)==null?void 0:a.filter(t=>t.status==="completed").length)||0}),F=d(()=>{var a;return((a=l.value)==null?void 0:a.length)||0}),W=d(()=>{if(!I.value)return 0;let a=0;const t=o.providers.value||[];for(const c of t)o.hasApiKey(c.id)&&a++;const s=t.find(c=>c.id==="ollama-chat"),p=t.find(c=>c.id==="ollama-generate");return(s!=null&&s.configured||p!=null&&p.configured)&&a++,a}),X=d(()=>[...(P.value||[]).map(t=>({id:t.id,name:t.name,type:"template"})),...(S.value||[]).map(t=>({id:t.id,name:t.name,type:"spreadsheet"}))].slice(0,3)),q=d(()=>(A.value||[]).slice(0,3)),J=d(()=>(y.value||[]).slice(0,3)),K=d(()=>(y.value||[]).filter(a=>a.status==="completed").slice(0,3)),Q=d(()=>(y.value||[]).filter(a=>a.status==="running"||a.status==="paused").length),Y=d(()=>(y.value||[]).reduce((a,t)=>{var c,V;const s=((c=t.progress)==null?void 0:c.completed)||0,p=((V=t.progress)==null?void 0:V.failed)||0;return a+s+p},0)),k=_({formatted:"0 B"}),Z=d(()=>k.value.formatted),G=d(()=>{var t;if(!((t=l.value)!=null&&t.length))return[];const a=u.value||{};return Object.entries(a).map(([s,p])=>({id:s,name:s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "),modelCount:p.length}))}),tt=d(()=>{const a=[],t=u.value||{};for(const[s,p]of Object.entries(t))if(p.length>0){const c=o.hasApiKey(s),V=s.split("-").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ");a.push({provider:V,status:c?"Configured":"Available"})}return a}),et=d(()=>""),st=d(()=>0),f=a=>{n.push(`/${a}`)};return rt(async()=>{try{const t=((await o.system.calculateStorageUsage()).totalSize/(1024*1024)).toFixed(1);k.value={formatted:`${t} MB`}}catch(a){ot.warn("Failed to get storage info",a)}}),(a,t)=>(m(),v("div",Ot,[e("div",{class:"welcome-section"},[e("div",{class:"welcome-content"},[e("h1",{class:"welcome-title"},[t[7]||(t[7]=g("Auditomatic Lite — ")),e("span",{class:"version-text"},r(z))]),t[8]||(t[8]=e("p",{class:"welcome-subtitle"}," A powerful browser-based tool for systematic testing of Large Language Models ",-1)),t[9]||(t[9]=e("div",{class:"workflow-hint"},[e("strong",null,"Typical Workflow:"),g(" Set API Keys → Enable Models → (Optional: Create Variables) → Design Prompts → Configure Trial → Run & Analyze ")],-1))])]),e("div",Ct,[t[14]||(t[14]=e("h2",null,"System Status",-1)),e("div",Vt,[e("div",_t,[t[10]||(t[10]=e("span",{class:"status-label"},"LLM Providers",-1)),e("span",Bt,r(W.value)+" configured",1)]),e("div",wt,[t[11]||(t[11]=e("span",{class:"status-label"},"Active Trials",-1)),e("span",Pt,r(Q.value),1)]),e("div",St,[t[12]||(t[12]=e("span",{class:"status-label"},"Total Results",-1)),e("span",At,r(Y.value),1)]),e("div",kt,[t[13]||(t[13]=e("span",{class:"status-label"},"Storage Used",-1)),e("span",xt,r(Z.value),1)])])]),e("div",Lt,[e("div",{class:"dashboard-card",onClick:t[0]||(t[0]=s=>f("designs")),"data-testid":"card-nav-designs","aria-label":"Navigate to prompt designs",role:"button",tabindex:"0"},[e("h3",null,[b(h(it)),t[15]||(t[15]=g(" Designs"))]),e("div",Nt,[e("p",null,r(E.value)+" prompt templates",1),e("div",$t,[(m(!0),v(O,null,C(X.value,s=>(m(),v("div",{key:s.id,class:"recent-item"},r(s.name),1))),128))])])]),e("div",{class:"dashboard-card",onClick:t[1]||(t[1]=s=>f("variables")),"data-testid":"card-nav-variables","aria-label":"Navigate to variable lists",role:"button",tabindex:"0"},[e("h3",null,[b(h(dt)),t[16]||(t[16]=g(" Variables"))]),e("div",jt,[e("p",null,r(H.value)+" variable lists",1),e("div",Dt,[(m(!0),v(O,null,C(q.value,s=>{var p;return m(),v("div",{key:s.id,class:"recent-item"},r(s.name)+" ("+r(((p=s.values)==null?void 0:p.length)||0)+" items) ",1)}),128))])])]),e("div",{class:"dashboard-card",onClick:t[2]||(t[2]=s=>f("trials")),"data-testid":"card-nav-trials","aria-label":"Navigate to trials",role:"button",tabindex:"0"},[e("h3",null,[b(h(ut)),t[17]||(t[17]=g(" Trials"))]),e("div",Mt,[e("p",null,r(R.value)+" test configurations",1),e("div",Tt,[(m(!0),v(O,null,C(J.value,s=>(m(),v("div",{key:s.id,class:"recent-item"},r(s.name),1))),128))])])]),e("div",{class:"dashboard-card",onClick:t[3]||(t[3]=s=>f("results")),"data-testid":"card-nav-results","aria-label":"Navigate to results analysis",role:"button",tabindex:"0"},[e("h3",null,[b(h(B)),t[18]||(t[18]=g(" Results"))]),e("div",zt,[e("p",null,r(U.value)+" completed runs",1),e("div",It,[(m(!0),v(O,null,C(K.value,s=>(m(),v("div",{key:s.id,class:"recent-item"},r(s.name)+" - Completed ",1))),128))])])]),e("div",{class:"dashboard-card",onClick:t[4]||(t[4]=s=>f("models")),"data-testid":"card-nav-models","aria-label":"Navigate to model management",role:"button",tabindex:"0"},[e("h3",null,[b(h(ct)),t[19]||(t[19]=g(" Models"))]),e("div",Et,[e("p",null,r(F.value)+" LLM models available",1),e("div",Ht,[(m(!0),v(O,null,C(G.value,s=>(m(),v("div",{key:s.id,class:"provider-item"},r(s.name)+": "+r(s.modelCount)+" models ",1))),128))])])]),e("div",{class:"dashboard-card",onClick:t[5]||(t[5]=s=>f("settings")),"data-testid":"card-nav-settings","aria-label":"Navigate to settings",role:"button",tabindex:"0"},[e("h3",null,[b(h(vt)),t[20]||(t[20]=g(" Settings"))]),e("div",Rt,[t[21]||(t[21]=e("p",null,"Configure API keys and endpoints",-1)),e("div",Ut,[(m(!0),v(O,null,C(tt.value,s=>(m(),v("div",{key:s.provider,class:"setting-item"},r(s.provider)+": "+r(s.status),1))),128))])])]),e("div",{class:"dashboard-card",onClick:t[6]||(t[6]=s=>f("debug")),"data-testid":"card-nav-debug","aria-label":"Navigate to debug tools",role:"button",tabindex:"0"},[e("h3",null,[b(h(w)),t[22]||(t[22]=g(" Debug"))]),e("div",Ft,[t[23]||(t[23]=e("p",null,"View system logs and diagnostics",-1)),e("div",Wt,[e("div",null,"Last error: "+r(et.value||"None"),1),e("div",null,"Log entries: "+r(st.value),1)])])])])]))}}),Qt=pt(Xt,[["__scopeId","data-v-2e45658c"]]);export{Qt as default};
