import{b as T,r as l,c as m,a as z}from"./index-nY7SO6jw.js";const w="3.0.0",y="wizard-v3-flow",k=T("wizard-flow",()=>{const r=l(0),u=l(!1),s=l({showWater:!0,showElectricity:!0}),v=l("playground"),f=l(!1),h=l(w),d=l(null),p=l({ollama:!1,anthropic:!1,openrouter:!1,openai:{chat:!1,responses:!1}}),o=l([]),i=l(null),n=l(-1),c=l({}),S=m(()=>6),P=m(()=>{switch(r.value){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!1;default:return!1}}),I=m(()=>r.value>0),W=m(()=>{const e=new Set;for(let a=0;a<r.value;a++)e.add(a);return e});function x(){r.value<S.value-1&&(r.value++,t())}function C(){r.value>0&&(r.value--,t())}function M(e){e>=0&&e<S.value&&(r.value=e,t())}function E(){u.value=!0,t()}function V(){u.value=!1,t()}function D(e){s.value={...s.value,...e},t()}function N(e){v.value=e,t()}async function b(){f.value=!0,h.value=w,u.value=!1,localStorage.setItem("wizard-v3-completed",w),t()}function O(){r.value=0,u.value=!1,f.value=!1,s.value={showWater:!0,showElectricity:!0},v.value="playground",d.value=null,p.value={ollama:!1,anthropic:!1,openrouter:!1,openai:{chat:!1,responses:!1}},o.value=[],i.value=null,n.value=-1,c.value={},localStorage.removeItem("wizard-v3-completed"),t()}function F(e){d.value=e,t()}function G(e){p.value=e;const a=[];e.ollama&&a.push("ollama-chat"),e.anthropic&&a.push("anthropic"),e.openrouter&&a.push("openrouter"),e.openai.chat&&a.push("openai-chat"),e.openai.responses&&a.push("openai-responses"),o.value=a,t()}function Q(){o.value.length>0&&(n.value=0,i.value=o.value[0]),t()}function R(){return n.value<o.value.length-1?(n.value++,i.value=o.value[n.value],t(),!0):!1}function A(e,a){c.value[e]=a,t()}function J(e){return c.value[e]}function t(){try{const e={currentStep:r.value,isVisible:u.value,environmentalMetrics:s.value,nextDestination:v.value,hasCompletedWizard:f.value,wizardVersion:h.value,securityMode:d.value,selectedProviders:p.value,providerQueue:o.value,currentProviderId:i.value,currentProviderIndex:n.value,providerConfigs:c.value};localStorage.setItem(y,JSON.stringify(e))}catch(e){z.warn("Failed to save wizard state:",e)}}function g(){try{const e=localStorage.getItem(y);if(e){const a=JSON.parse(e);r.value=a.currentStep||0,u.value=a.isVisible||!1,s.value=a.environmentalMetrics||{showWater:!0,showElectricity:!0},v.value=a.nextDestination||"playground",f.value=a.hasCompletedWizard||!1,h.value=a.wizardVersion||w,d.value=a.securityMode||null,p.value=a.selectedProviders||{ollama:!1,anthropic:!1,openrouter:!1,openai:{chat:!1,responses:!1}},o.value=a.providerQueue||[],i.value=a.currentProviderId||null,n.value=a.currentProviderIndex??-1,c.value=a.providerConfigs||{}}}catch(e){z.warn("Failed to load wizard state:",e)}}return g(),{currentStep:r,isVisible:u,environmentalMetrics:s,nextDestination:v,hasCompletedWizard:f,wizardVersion:h,securityMode:d,selectedProviders:p,providerQueue:o,currentProviderId:i,currentProviderIndex:n,providerConfigs:c,totalSteps:S,canGoNext:P,canGoBack:I,completedSteps:W,nextStep:x,previousStep:C,goToStep:M,showWizard:E,hideWizard:V,setEnvironmentalMetrics:D,setNextDestination:N,completeWizard:b,resetWizard:O,setSecurityMode:F,setSelectedProviders:G,startProviderConfiguration:Q,nextProvider:R,setProviderConfig:A,getProviderConfig:J,saveState:t,loadState:g}});export{k as useWizardFlow};
