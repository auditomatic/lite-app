import{u as e}from"./settings-db-BlTZ-7ej.js";import{p as a}from"./registry-CUN7XnFI.js";import{d as l,f as s,c as t,o as i,a2 as n,Y as o,S as r,a3 as d,k as c,U as u,X as g,W as v,F as y,a4 as m,a5 as f,G as p}from"./vendor-BxfGckcK.js";import{_ as h}from"./index-D7qu21q1.js";import"./db-COX2g2xv.js";const b={class:"settings-view full-width"},_={class:"api-key-label"},k={class:"provider-info spacing-top-xs"},w={class:"text-secondary"},P={class:"text-secondary"},z={class:"provider-label"},A=h(l({__name:"SettingsView",setup(l){const h=e(),A=s([]),I=t(()=>h.hasAnyApiKeys),C=[{title:"Provider",dataIndex:"name",key:"name",width:150},{title:"Value",key:"value",width:80,align:"center"},{title:"Slider (1-64)",key:"slider",width:150,align:"center"}],x=t(()=>A.value.map(e=>{return{id:e.id,name:e.name,concurrency:(a=e.id,h.getProviderConcurrency(a)||U(a)),enabled:S(e.id)};var a})),j=t(()=>h.apiKeyGroups);function K(e){const a=A.value.find(a=>a.id===e);return a?.api.baseUrl||""}function S(e){return h.isProviderEnabled(e)}function U(e){const a=A.value.find(a=>a.id===e);return a?.execution?.defaultConcurrency||4}return i(async()=>{console.log("=== onMounted start ==="),console.log("Waiting for provider registry to load..."),await a.waitForReady(),console.log("Provider registry ready!");const e=a.getAllProviders();console.log("getAllProviders() returned:",e),console.log("allProviders.length:",e.length),console.log("allProviders IDs:",e.map(e=>e.id)),A.value=[...e],console.log("providers.value after setting:",A.value.length),console.log("=== onMounted end ===")}),(e,a)=>{const l=u("a-alert"),s=u("a-tag"),t=u("a-input-password"),i=u("a-form-item"),U=u("a-col"),E=u("a-row"),O=u("a-form"),W=u("a-card"),B=u("a-switch"),F=u("a-input"),G=u("a-slider"),L=u("a-table");return v(),n("div",b,[a[2]||(a[2]=o("div",{class:"settings-header"},[o("h2",null,"Settings"),o("p",{class:"description"},"Configure API keys and provider settings for scientific model testing")],-1)),I.value?d("",!0):(v(),r(l,{key:0,type:"info",message:"Welcome to Auditomatic Lite!",description:"Configure your API keys to get started with systematic AI model testing.","show-icon":"",class:"welcome-alert"})),c(W,{title:"API Keys",class:"settings-card",size:"small"},{extra:g(()=>[c(s,{color:"green",size:"small"},{default:g(()=>[p(f(Object.values(j.value).filter(e=>e.hasKey).length)+" / "+f(Object.keys(j.value).length)+" configured ",1)]),_:1})]),default:g(()=>[c(l,{message:"Local Storage Only",description:"Your API keys are stored locally in your browser and never sent to any server.",type:"info","show-icon":"",class:"spacing-bottom-md"}),c(O,{layout:"vertical",size:"small"},{default:g(()=>[c(E,{gutter:[16,16]},{default:g(()=>[(v(!0),n(y,null,m(j.value,e=>(v(),r(U,{key:e.id,span:12},{default:g(()=>[c(i,null,{label:g(()=>[o("div",_,[p(f(e.name)+" ",1),e.hasKey?(v(),r(s,{key:0,color:"success",size:"small"},{default:g(()=>a[0]||(a[0]=[p("âœ“ Configured")])),_:1,__:[0]})):(v(),r(s,{key:1,color:"default",size:"small"},{default:g(()=>a[1]||(a[1]=[p("Not configured")])),_:1,__:[1]}))])]),default:g(()=>{return[c(t,{value:(a=e.id,h.getApiKey(a)||""),onInput:a=>function(e,a){const l=a.target.value;h.setApiKey(e,l)}(e.id,a),placeholder:`Enter ${e.name} API key`,autocomplete:"off",size:"small",visibilityToggle:!0},null,8,["value","onInput","placeholder"]),o("div",k,[o("small",w," Used by: "+f(e.providers.join(", ")),1)])];var a}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),c(W,{title:"Provider Endpoints",class:"settings-card",size:"small"},{extra:g(()=>[o("small",P,f(A.value.filter(e=>S(e.id)).length)+" enabled",1)]),default:g(()=>[c(O,{layout:"vertical",size:"small"},{default:g(()=>[c(E,{gutter:[16,16]},{default:g(()=>[(v(!0),n(y,null,m(A.value,e=>(v(),r(U,{key:e.id,span:12},{default:g(()=>[c(i,null,{label:g(()=>[o("div",z,[p(f(e.name)+" ",1),c(B,{checked:S(e.id),onChange:a=>{return l=e.id,s=a,void h.setProviderEnabled(l,s);var l,s},size:"small"},null,8,["checked","onChange"])])]),default:g(()=>{return[c(F,{value:(a=e.id,h.getBaseUrl(a)||""),onInput:a=>function(e,a){const l=a.target.value;h.setBaseUrl(e,l)}(e.id,a),placeholder:K(e.id),disabled:!S(e.id),size:"small"},null,8,["value","onInput","placeholder","disabled"])];var a}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),c(W,{title:"Concurrency Settings",class:"settings-card",size:"small"},{default:g(()=>[c(L,{columns:C,"data-source":x.value,pagination:!1,size:"small",class:"scientific-table","row-key":"id"},{bodyCell:g(({column:e,record:a})=>["value"===e.key?(v(),r(s,{key:0,size:"small",color:a.enabled?"blue":"default"},{default:g(()=>[p(f(a.concurrency),1)]),_:2},1032,["color"])):d("",!0),"slider"===e.key?(v(),r(G,{key:1,value:a.concurrency,onChange:e=>function(e,a){h.setProviderConcurrency(e,a)}(a.id,e),min:1,max:64,disabled:!a.enabled,style:{width:"100px"},size:"small"},null,8,["value","onChange","disabled"])):d("",!0)]),_:1},8,["data-source"])]),_:1})])}}}),[["__scopeId","data-v-3652dc4d"]]);export{A as default};
