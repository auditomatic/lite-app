import{b as k,r,c as w,a as y}from"./index-CvIbHGw4.js";const S="3.0.0",P="wizard-v3-flow",B=k("wizard-flow",()=>{const l=r(0),u=r(!1),i=r({showWater:!0,showElectricity:!0}),v=r("playground"),d=r(!1),m=r(S),f=r(null),p=r({ollama:!1,anthropic:!1,openrouter:!1,openai:!1}),h=r({}),n=r([]),s=r(null),o=r(-1),c=r({}),g=w(()=>6),I=w(()=>{switch(l.value){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!1;default:return!1}}),W=w(()=>l.value>0),x=w(()=>{const e=new Set;for(let t=0;t<l.value;t++)e.add(t);return e});function E(){l.value<g.value-1&&(l.value++,a())}function C(){l.value>0&&(l.value--,a())}function M(e){e>=0&&e<g.value&&(l.value=e,a())}function V(){u.value=!0,a()}function D(){u.value=!1,a()}function N(e){i.value={...i.value,...e},a()}function b(e){v.value=e,a()}async function O(){d.value=!0,m.value=S,u.value=!1,localStorage.setItem("wizard-v3-completed",S),a()}function F(){l.value=0,u.value=!1,d.value=!1,i.value={showWater:!0,showElectricity:!0},v.value="playground",f.value=null,p.value={ollama:!1,anthropic:!1,openrouter:!1,openai:!1},h.value={},n.value=[],s.value=null,o.value=-1,c.value={},localStorage.removeItem("wizard-v3-completed"),a()}function G(e){f.value=e,a()}function Q(e){p.value=e;const t=[];e.ollama&&t.push("ollama"),e.anthropic&&t.push("anthropic"),e.openrouter&&t.push("openrouter"),e.openai&&t.push("openai"),n.value=t,a()}function R(e){h.value=e,a()}function A(){n.value.length>0&&(o.value=0,s.value=n.value[0]),a()}function J(){return o.value<n.value.length-1?(o.value++,s.value=n.value[o.value],a(),!0):!1}function T(e,t){c.value[e]=t,a()}function _(e){return c.value[e]}function a(){try{const e={currentStep:l.value,isVisible:u.value,environmentalMetrics:i.value,nextDestination:v.value,hasCompletedWizard:d.value,wizardVersion:m.value,securityMode:f.value,selectedProviders:p.value,selectedEndpoints:h.value,providerQueue:n.value,currentProviderId:s.value,currentProviderIndex:o.value,providerConfigs:c.value};localStorage.setItem(P,JSON.stringify(e))}catch(e){y.warn("Failed to save wizard state:",e)}}function z(){try{const e=localStorage.getItem(P);if(e){const t=JSON.parse(e);l.value=t.currentStep||0,u.value=t.isVisible||!1,i.value=t.environmentalMetrics||{showWater:!0,showElectricity:!0},v.value=t.nextDestination||"playground",d.value=t.hasCompletedWizard||!1,m.value=t.wizardVersion||S,f.value=t.securityMode||null,p.value=t.selectedProviders||{ollama:!1,anthropic:!1,openrouter:!1,openai:!1},h.value=t.selectedEndpoints||{},n.value=t.providerQueue||[],s.value=t.currentProviderId||null,o.value=t.currentProviderIndex??-1,c.value=t.providerConfigs||{}}}catch(e){y.warn("Failed to load wizard state:",e)}}return z(),{currentStep:l,isVisible:u,environmentalMetrics:i,nextDestination:v,hasCompletedWizard:d,wizardVersion:m,securityMode:f,selectedProviders:p,selectedEndpoints:h,providerQueue:n,currentProviderId:s,currentProviderIndex:o,providerConfigs:c,totalSteps:g,canGoNext:I,canGoBack:W,completedSteps:x,nextStep:E,previousStep:C,goToStep:M,showWizard:V,hideWizard:D,setEnvironmentalMetrics:N,setNextDestination:b,completeWizard:O,resetWizard:F,setSecurityMode:G,setSelectedProviders:Q,setSelectedEndpoints:R,startProviderConfiguration:A,nextProvider:J,setProviderConfig:T,getProviderConfig:_,saveState:a,loadState:z}});export{B as useWizardFlow};
