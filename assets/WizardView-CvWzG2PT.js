import{e as i,I as me,f as G,c as W,t as D,v as c,x,j as u,z as I,i as e,E as w,am as Ie,A as h,h as k,B as Z,F as J,aL as Re,Z as We,aM as fe,_ as K,ab as ie,y as v,aN as Te,r as F,q as H,a as L,X as ge,V as Ee,au as X,H as Fe,ay as De,aO as he,av as Ne,aP as ae,as as Le,d as V,ao as le,C as te,an as ye,aQ as Be,w as Ue,ah as qe,a6 as Ve,aR as Ge,ak as Ke,aS as He,N as je}from"./index-nY7SO6jw.js";import{useWizardFlow as j}from"./wizard-flow-C7SjP0Vn.js";import{W as _e}from"./WarningOutlined-Cw7gpBrR.js";import{u as ke}from"./useV4Models-CyTzjl8n.js";import{O as Ye}from"./OllamaModelManagerV3-BmgIWjSB.js";import{S as Qe}from"./SaveOutlined-BNdj_gEu.js";import{E as Xe}from"./ExportOutlined-xUP0owqG.js";import"./useV4LiveQuery-DCvW8B3Q.js";import"./FilterOutlined-Cq6iPCPj.js";import"./ollama-fetch-Cm4u9WF2.js";import"./UnorderedListOutlined-C7K1fnPN.js";var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};function pe($){for(var p=1;p<arguments.length;p++){var n=arguments[p]!=null?Object(arguments[p]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable}))),l.forEach(function(m){Je($,m,n[m])})}return $}function Je($,p,n){return p in $?Object.defineProperty($,p,{value:n,enumerable:!0,configurable:!0,writable:!0}):$[p]=n,$}var se=function(p,n){var l=pe({},p,n.attrs);return i(me,pe({},l,{icon:Ze}),null)};se.displayName="MinusCircleOutlined";se.inheritAttrs=!1;var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};function ve($){for(var p=1;p<arguments.length;p++){var n=arguments[p]!=null?Object(arguments[p]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable}))),l.forEach(function(m){tt($,m,n[m])})}return $}function tt($,p,n){return p in $?Object.defineProperty($,p,{value:n,enumerable:!0,configurable:!0,writable:!0}):$[p]=n,$}var re=function(p,n){var l=ve({},p,n.attrs);return i(me,ve({},l,{icon:et}),null)};re.displayName="RocketOutlined";re.inheritAttrs=!1;const st={class:"header-content"},ot={class:"wizard-progress"},nt={class:"progress-mobile"},it={class:"step-counter"},at={class:"progress-desktop"},lt={class:"content-wrapper"},rt={class:"navigation-wrapper"},dt={class:"btn-text"},ut=G({__name:"WizardContainer",props:{currentStep:{},totalSteps:{},canGoNext:{type:Boolean},canGoBack:{type:Boolean},completedSteps:{}},emits:["next","back","close","complete"],setup($){const p=$,n=W(()=>p.currentStep===2||p.currentStep===3||p.currentStep===4),l=["Welcome","Security","Providers","Configure","Environment","Complete"];function m(){switch(p.currentStep){case 0:return"Get Started";case 1:return"Continue";case 2:return"Finish Setup";default:return"Continue"}}return(_,g)=>{const R=x("a-button"),o=x("a-progress"),C=x("a-step"),A=x("a-steps"),r=x("a-layout-header"),a=x("a-layout-content"),f=x("a-layout-footer"),M=x("a-layout");return u(),D(M,{class:"wizard-layout"},{default:c(()=>[i(r,{class:"wizard-header"},{default:c(()=>[e("div",st,[i(R,{class:"wizard-close",type:"text",shape:"circle",size:"small",onClick:g[0]||(g[0]=y=>_.$emit("close"))},{icon:c(()=>[i(w(Ie))]),_:1}),e("div",ot,[e("div",nt,[e("span",it,h(_.currentStep+1)+" of "+h(_.totalSteps),1),i(o,{percent:Math.round((_.currentStep+1)/_.totalSteps*100),"show-info":!1,size:"small","stroke-color":"var(--color-primary)"},null,8,["percent"])]),e("div",at,[i(A,{current:_.currentStep,size:"small",responsive:!1},{default:c(()=>[(u(),k(J,null,Z(l,(y,d)=>i(C,{key:d,title:y},null,8,["title"])),64))]),_:1},8,["current"])])])])]),_:1}),i(a,{class:"wizard-content"},{default:c(()=>[e("div",lt,[Re(_.$slots,"default",{},void 0,!0)])]),_:3}),n.value?I("",!0):(u(),D(f,{key:0,class:"wizard-footer"},{default:c(()=>[e("div",rt,[_.canGoBack?(u(),D(R,{key:0,class:"nav-back",onClick:g[1]||(g[1]=y=>_.$emit("back"))},{default:c(()=>[i(w(We)),g[4]||(g[4]=e("span",{class:"btn-text"},"Back",-1))]),_:1,__:[4]})):I("",!0),g[6]||(g[6]=e("div",{class:"nav-spacer"},null,-1)),_.currentStep<_.totalSteps-1?(u(),D(R,{key:1,type:"primary",class:"nav-next",onClick:g[2]||(g[2]=y=>_.$emit("next")),disabled:!_.canGoNext},{default:c(()=>[e("span",dt,h(m()),1),i(w(fe))]),_:1},8,["disabled"])):(u(),D(R,{key:2,type:"primary",class:"nav-complete",onClick:g[3]||(g[3]=y=>_.$emit("complete"))},{default:c(()=>[g[5]||(g[5]=e("span",{class:"btn-text"},"Get Started",-1)),i(w(re))]),_:1,__:[5]}))])]),_:1}))]),_:3})}}}),ct=K(ut,[["__scopeId","data-v-bf812654"]]),pt={class:"wizard-welcome"},vt={class:"feature-showcase"},mt={class:"feature-grid"},ft={class:"feature-icon"},gt={class:"feature-content"},ht=G({__name:"WizardWelcome",emits:["continue"],setup($){const p=[{icon:"🌐",title:"Browser Compatibility",description:"Chrome and Firefox are preferred. Safari support is limited.",isWarning:!0},{icon:"⚠️",title:"Experimental Beta",description:"Features may change. Export your data regularly.",isWarning:!0},{icon:"💰",title:"Cost Tracking",description:"Real-time cost estimation with environmental impact tracking.",isWarning:!0},{icon:"🌍",title:"Environmental Impact",description:"CO₂, water & energy usage shown alongside costs.",isWarning:!0},{icon:"💾",title:"Local Storage",description:"All data stored locally in your browser - complete privacy"},{icon:"🤖",title:"Multi-Provider",description:"Test across OpenAI, Anthropic, OpenRouter, Ollama, and more"},{icon:"📝",title:"Design Templates",description:"Create prompt templates with variables for systematic testing"},{icon:"🔄",title:"Variable Lists",description:"Define test values that get substituted into prompts automatically"},{icon:"🧪",title:"Run Trials",description:"Test multiple models and configurations in parallel"},{icon:"📊",title:"Analyze Results",description:"View live progress, compare responses, and export data"},{icon:"⚡",title:"High Performance",description:"Optimized for large datasets with virtual scrolling"},{icon:"🔒",title:"Secure API Keys",description:"Optional encryption for API keys with master password protection"}];return(n,l)=>(u(),k("div",pt,[l[0]||(l[0]=e("div",{class:"welcome-header"},[e("h1",null,"Welcome to Auditomatic Lite"),e("p",{class:"tagline"},"Browser-Based Testing for Multiple LLM Providers")],-1)),e("div",vt,[e("div",mt,[(u(),k(J,null,Z(p,m=>e("div",{key:m.title,class:ie(["feature-card",{"warning-card":m.isWarning}])},[e("div",ft,h(m.icon),1),e("div",gt,[e("h3",null,h(m.title),1),e("p",null,h(m.description),1)])],2)),64))])]),l[1]||(l[1]=e("div",{class:"welcome-actions"},[e("p",{class:"help-text"}," Ready to get started? We'll guide you through setting up security and AI providers. "),e("div",{class:"continue-hint"},[v(" 👇 Click "),e("strong",null,'"Get Started"'),v(" below to continue ")])],-1))]))}}),yt=K(ht,[["__scopeId","data-v-d83610b2"]]),_t={class:"wizard-security"},kt={key:0,class:"security-setup-required"},wt={class:"setup-action"},Ct={key:1,class:"security-configured"},bt={class:"completion-header"},St={class:"current-settings"},$t={class:"setting-item"},Mt={class:"setting-value"},Ot={key:0,class:"setting-item"},xt={class:"configured-actions"},Pt=G({__name:"WizardSecurity",emits:["security-ready"],setup($,{emit:p}){const n=p,l=Te(),m=j(),_=F(!1),g=W(()=>l.secureSettings.hasSetupApiKeySecurity()),R=W(()=>l.hasMasterPassword.value);function o(){const a=l.secureSettings.getDefaultSecurityMode();return{encrypted:"🔒 Encrypted",session:"⚠️ Session Only",plaintext:"📝 Plaintext"}[a]||a}function C(){_.value=!0,L.info("Triggering security setup from wizard")}function A(){_.value=!1}function r(a){_.value=!1,L.info("Security setup completed in wizard",{mode:a.mode}),m.setSecurityMode(a.mode),n("security-ready")}return H(()=>{if(L.info("Wizard security step mounted",{hasSetupSecurity:g.value,defaultMode:l.secureSettings.getDefaultSecurityMode()}),g.value){const a=l.secureSettings.getDefaultSecurityMode();m.setSecurityMode(a),L.info("Security already configured, showing status",{mode:a})}}),(a,f)=>{const M=x("a-button");return u(),k("div",_t,[f[8]||(f[8]=e("div",{class:"step-header"},[e("h2",null,"Secure Your API Keys"),e("p",{class:"step-description"}," Choose how your API keys will be protected. This affects all current and future API keys. ")],-1)),g.value?(u(),k("div",Ct,[e("div",bt,[i(w(X),{class:"completion-icon"}),f[3]||(f[3]=e("h3",null,"Security Already Configured",-1))]),e("div",St,[e("div",$t,[f[4]||(f[4]=e("span",{class:"setting-label"},"Default Security Mode:",-1)),e("span",Mt,h(o()),1)]),R.value?(u(),k("div",Ot,f[5]||(f[5]=[e("span",{class:"setting-label"},"Master Password:",-1),e("span",{class:"setting-value"},"✅ Configured",-1)]))):I("",!0)]),e("div",xt,[i(M,{type:"default",onClick:C},{default:c(()=>[i(w(Fe)),f[6]||(f[6]=v(" Change Security Settings "))]),_:1,__:[6]}),i(M,{type:"primary",onClick:f[0]||(f[0]=y=>a.$emit("security-ready"))},{default:c(()=>[f[7]||(f[7]=v(" Continue to API Keys ")),i(w(fe))]),_:1,__:[7]})])])):(u(),k("div",kt,[f[2]||(f[2]=ge('<div class="setup-info" data-v-99082934><div class="info-card" data-v-99082934><div class="card-icon" data-v-99082934>🔐</div><div class="card-content" data-v-99082934><h3 data-v-99082934>API Key Security Setup Required</h3><p data-v-99082934> Before adding API keys, you need to choose your security preferences. This is a one-time setup that affects all your API keys. </p></div></div></div><div class="security-preview" data-v-99082934><h4 data-v-99082934>Available Security Options:</h4><div class="preview-grid" data-v-99082934><div class="preview-option" data-v-99082934><span class="option-icon" data-v-99082934>🔒</span><div class="option-info" data-v-99082934><div class="option-title" data-v-99082934>Encrypted (Recommended)</div><div class="option-desc" data-v-99082934>One password protects all API keys</div></div></div><div class="preview-option" data-v-99082934><span class="option-icon" data-v-99082934>⚠️</span><div class="option-info" data-v-99082934><div class="option-title" data-v-99082934>Session Only</div><div class="option-desc" data-v-99082934>Keys stored in memory, lost on refresh</div></div></div><div class="preview-option" data-v-99082934><span class="option-icon" data-v-99082934>📝</span><div class="option-info" data-v-99082934><div class="option-title" data-v-99082934>Plaintext</div><div class="option-desc" data-v-99082934>No password required, less secure</div></div></div></div></div>',2)),e("div",wt,[i(M,{type:"primary",size:"large",onClick:C},{default:c(()=>[i(w(Ee)),f[1]||(f[1]=v(" Configure Security Settings "))]),_:1,__:[1]})])])),i(De,{open:_.value,onClose:A,onSuccess:r},null,8,["open"])])}}}),zt=K(Pt,[["__scopeId","data-v-99082934"]]),At={class:"wizard-provider-selection"},It={key:0,class:"discovery-status"},Rt={key:1,class:"providers-list"},Wt={class:"provider-option"},Tt={class:"provider-details"},Et={class:"provider-status"},Ft={key:0,class:"ollama-help"},Dt={class:"provider-option openai-group"},Nt={class:"provider-details"},Lt={class:"provider-status"},Bt={class:"model-count"},Ut={class:"openai-endpoints"},qt={class:"endpoint-option"},Vt={class:"endpoint-option"},Gt={class:"provider-option"},Kt={class:"provider-details"},Ht={class:"provider-status"},jt={class:"model-count"},Yt={class:"provider-option"},Qt={class:"provider-details"},Xt={class:"provider-status"},Zt={class:"model-count"},Jt={class:"step-actions"},es={class:"action-right"},ts=G({__name:"WizardProviderSelection",emits:["continue","skip"],setup($,{emit:p}){const n=p,l=j(),m=F(!1),_=F(0),g=F(0),R=F(0),o=F(0),C=F("not-running"),A=W(()=>{switch(C.value){case"ready":return`${_.value} models installed`;case"no-models":return"Running but no models installed";case"not-running":return"Not running or CORS not configured"}}),r=F({ollama:!1,anthropic:!1,openrouter:!1,openai:{chat:!1,responses:!0}});W({get:()=>r.value.openai.chat||r.value.openai.responses,set:S=>{S&&!r.value.openai.chat&&!r.value.openai.responses?r.value.openai.responses=!0:S||(r.value.openai.chat=!1,r.value.openai.responses=!1)}});const a=W(()=>r.value.ollama||r.value.anthropic||r.value.openrouter||r.value.openai.chat||r.value.openai.responses);async function f(){const S=await V.models.where("provider").equals("ollama-chat").count(),s=await V.models.where("provider").equals("anthropic").count(),T=await V.models.where("provider").equals("openrouter").count(),q=await V.models.where("provider").equals("openai-chat").count(),P=await V.models.where("provider").equals("openai-responses").count();if(_.value=S,g.value=s,R.value=T,o.value=Math.max(q,P),S>0)C.value="ready",r.value.ollama=!0;else try{(await fetch("http://localhost:11434/api/tags")).ok?C.value="no-models":C.value="not-running"}catch{C.value="not-running"}}async function M(){m.value=!0;try{const s=await le().discoverModels({forceRefresh:!0});te.success(`Discovered ${s.totalModels} models`),await f()}catch(S){L.error("Discovery failed:",S),te.error("Failed to refresh model discovery")}finally{m.value=!1}}async function y(){if(!a.value){te.warning("Please select at least one provider");return}l.setSelectedProviders(r.value),n("continue")}function d(){n("skip")}return H(async()=>{await f()}),(S,s)=>{const T=x("a-checkbox"),q=x("a-tooltip"),P=x("a-button");return u(),k("div",At,[s[26]||(s[26]=e("div",{class:"step-header"},[e("h2",null,"Choose Your AI Providers"),e("p",{class:"step-description"}," We've discovered available models. Select which providers you want to configure. ")],-1)),m.value?(u(),k("div",It,[i(w(he),{spin:""}),s[5]||(s[5]=v(" Discovering available models... "))])):(u(),k("div",Rt,[e("label",Wt,[i(T,{checked:r.value.ollama,"onUpdate:checked":s[0]||(s[0]=N=>r.value.ollama=N),disabled:C.value==="not-running"},{default:c(()=>[e("div",Tt,[s[9]||(s[9]=e("span",{class:"provider-icon"},"🦙",-1)),e("div",null,[s[7]||(s[7]=e("strong",null,"Ollama",-1)),s[8]||(s[8]=e("span",{class:"provider-desc"},"Run models locally on your computer",-1)),e("div",Et,[C.value==="ready"?(u(),D(w(X),{key:0,class:"status-icon success"})):C.value==="not-running"?(u(),D(w(Ne),{key:1,class:"status-icon error"})):C.value==="no-models"?(u(),D(w(_e),{key:2,class:"status-icon warning"})):I("",!0),e("span",{class:ie(["status-text",C.value])},h(A.value),3)]),C.value==="not-running"?(u(),k("div",Ft,s[6]||(s[6]=[e("div",{class:"help-line"},[v("1. Download from "),e("a",{href:"https://ollama.ai",target:"_blank",rel:"noopener noreferrer"},"ollama.ai")],-1),e("div",{class:"help-line"},[v("2. Set "),e("a",{href:"https://objectgraph.com/blog/ollama-cors/",target:"_blank",rel:"noopener noreferrer"},"OLLAMA_ORIGINS=*"),v(" for CORS")],-1)]))):I("",!0)])])]),_:1},8,["checked","disabled"])]),e("div",Dt,[e("div",Nt,[s[16]||(s[16]=e("span",{class:"provider-icon"},"🤖",-1)),e("div",null,[e("strong",null,[s[11]||(s[11]=v("OpenAI ")),i(q,{placement:"right"},{title:c(()=>s[10]||(s[10]=[e("div",{class:"api-tooltip"},[e("strong",null,"Why two OpenAI options?"),e("br"),e("br"),e("strong",null,"Chat Completions API:"),v(" The traditional OpenAI endpoint. Widely supported but older architecture."),e("br"),e("br"),e("strong",null,"Responses API:"),v(" OpenAI's newer endpoint with better error handling, structured outputs, and future-proof design."),e("br"),e("br"),v(" You can select one or both depending on your needs. ")],-1)])),default:c(()=>[i(w(ae),{class:"api-help-icon"})]),_:1})]),s[15]||(s[15]=e("span",{class:"provider-desc"},"GPT-4 and GPT-3.5 models - API key required",-1)),e("div",Lt,[e("span",Bt,h(o.value)+" models available",1)]),e("div",Ut,[s[14]||(s[14]=e("div",{class:"endpoints-header"},"Choose which OpenAI endpoints to enable:",-1)),e("label",qt,[i(T,{checked:r.value.openai.chat,"onUpdate:checked":s[1]||(s[1]=N=>r.value.openai.chat=N)},{default:c(()=>s[12]||(s[12]=[v(" Chat Completions API (traditional) ")])),_:1,__:[12]},8,["checked"])]),e("label",Vt,[i(T,{checked:r.value.openai.responses,"onUpdate:checked":s[2]||(s[2]=N=>r.value.openai.responses=N)},{default:c(()=>s[13]||(s[13]=[v(" Responses API (recommended) ")])),_:1,__:[13]},8,["checked"])])])])])]),e("label",Gt,[i(T,{checked:r.value.openrouter,"onUpdate:checked":s[3]||(s[3]=N=>r.value.openrouter=N)},{default:c(()=>[e("div",Kt,[s[19]||(s[19]=e("span",{class:"provider-icon"},"🌐",-1)),e("div",null,[s[17]||(s[17]=e("strong",null,"OpenRouter",-1)),s[18]||(s[18]=e("span",{class:"provider-desc"},"100+ models from many providers - API key required",-1)),e("div",Ht,[e("span",jt,h(R.value)+" models available",1)])])])]),_:1},8,["checked"])]),e("label",Yt,[i(T,{checked:r.value.anthropic,"onUpdate:checked":s[4]||(s[4]=N=>r.value.anthropic=N)},{default:c(()=>[e("div",Qt,[s[22]||(s[22]=e("span",{class:"provider-icon"},"🧠",-1)),e("div",null,[s[20]||(s[20]=e("strong",null,"Anthropic",-1)),s[21]||(s[21]=e("span",{class:"provider-desc"},"Access Claude models - API key required",-1)),e("div",Xt,[e("span",Zt,h(g.value)+" models available",1)])])])]),_:1},8,["checked"])])])),e("div",Jt,[i(P,{onClick:M,size:"large",loading:m.value},{default:c(()=>[i(w(Le)),s[23]||(s[23]=v(" Refresh Discovery "))]),_:1,__:[23]},8,["loading"]),e("div",es,[i(P,{onClick:d,size:"large"},{default:c(()=>s[24]||(s[24]=[v(" Skip Setup ")])),_:1,__:[24]}),i(P,{type:"primary",onClick:y,size:"large",disabled:!a.value||m.value},{default:c(()=>s[25]||(s[25]=[v(" Continue ")])),_:1,__:[25]},8,["disabled"])])])])}}}),ss=K(ts,[["__scopeId","data-v-0e7fa642"]]),os={class:"wizard-model-grid"},ns={class:"grid-header"},is={class:"grid-controls"},as={class:"models-list"},ls={class:"model-info"},rs={class:"model-name"},ds={class:"model-meta"},us={key:0,class:"context"},cs={key:1,class:"model-cost"},ps={class:"grid-footer"},vs=G({__name:"WizardModelGrid",props:{providerId:{},providerName:{},selectedModels:{}},emits:["update:selectedModels"],setup($,{emit:p}){const n=$,l=p,{modelsByProvider:m}=ke(),_=W(()=>m.value[n.providerId]||[]),g=F(""),R=W(()=>{const y=g.value.toLowerCase();return y?_.value.filter(d=>d.modelId.toLowerCase().includes(y)||d.displayName.toLowerCase().includes(y)):_.value});function o(y){return n.selectedModels.includes(y)}function C(y){const d=[...n.selectedModels],S=d.indexOf(y);S>=0?d.splice(S,1):d.push(y),l("update:selectedModels",d)}function A(){l("update:selectedModels",R.value.map(y=>y.id))}function r(){l("update:selectedModels",[])}function a(){if(["openai-chat","openai-responses","anthropic"].includes(n.providerId)){const S=_.value.filter(s=>s.enabled).map(s=>s.id);if(S.length>0){l("update:selectedModels",S);return}}const d=_.value.filter(S=>{const s=S.modelId.toLowerCase();return s.includes("nano")||s.includes("mini")||s.includes("haiku")||s.includes("3.5")||s.includes("mistral")||s.includes("llama3")}).slice(0,5).map(S=>S.id);d.length===0?l("update:selectedModels",_.value.slice(0,5).map(S=>S.id)):l("update:selectedModels",d)}function f(y){return y>=1e6?`${(y/1e6).toFixed(1)}M`:y>=1e3?`${(y/1e3).toFixed(0)}K`:`${y}`}function M(y){var T,q;const d=(T=y.capabilities)==null?void 0:T.inputCostPerToken,S=(q=y.capabilities)==null?void 0:q.outputCostPerToken;if(!d&&!S)return null;const s=((d||0)+(S||0))/2*1e6;return s===0?null:s<.01?s.toFixed(4):s<1?s.toFixed(2):s.toFixed(0)}return H(()=>{n.selectedModels.length===0&&a()}),(y,d)=>{const S=x("a-input-search"),s=x("a-button"),T=x("a-button-group"),q=x("a-checkbox");return u(),k("div",os,[e("div",ns,[e("h3",null,"Select "+h(y.providerName)+" Models",1),e("div",is,[i(S,{value:g.value,"onUpdate:value":d[0]||(d[0]=P=>g.value=P),placeholder:"Search models...",size:"small",style:{width:"200px"}},null,8,["value"]),i(T,{size:"small"},{default:c(()=>[i(s,{onClick:A},{default:c(()=>d[1]||(d[1]=[v("Select All")])),_:1,__:[1]}),i(s,{onClick:r},{default:c(()=>d[2]||(d[2]=[v("Select None")])),_:1,__:[2]}),i(s,{onClick:a},{default:c(()=>d[3]||(d[3]=[v("Defaults")])),_:1,__:[3]})]),_:1})])]),d[4]||(d[4]=e("div",{class:"description-row"},[e("p",{class:"header-description"}," Choose which models appear in the UI. You can always enable/disable more models in the Models tab. ")],-1)),e("div",as,[(u(!0),k(J,null,Z(R.value,P=>(u(),k("label",{key:P.id,class:"model-item"},[i(q,{checked:o(P.id),onChange:N=>C(P.id)},{default:c(()=>{var N;return[e("div",ls,[e("code",rs,h(P.modelId),1),e("span",ds,[(N=P.capabilities)!=null&&N.contextWindow?(u(),k("span",us,h(f(P.capabilities.contextWindow)),1)):I("",!0),M(P)?(u(),k("span",cs," $"+h(M(P))+"/1M ",1)):I("",!0)])])]}),_:2},1032,["checked","onChange"])]))),128))]),e("div",ps,[e("span",null,h(y.selectedModels.length)+" models selected",1)])])}}}),ms=K(vs,[["__scopeId","data-v-e734387d"]]),fs={class:"openrouter-settings"},gs={class:"privacy-warning"},hs={class:"settings-options"},ys={class:"setting-option"},_s={class:"setting-option"},ks={class:"model-preview"},ws={class:"preview-list"},Cs={key:0,class:"preview-item hidden"},bs={key:1,class:"preview-item hidden"},Ss={key:2,class:"preview-item shown"},$s={class:"settings-actions"},Ms=G({__name:"WizardOpenRouterSettings",emits:["save","cancel"],setup($,{emit:p}){const n=p,l=F({hideOpenRouterFree:!0,hideOpenRouterAuto:!0}),m=W(()=>l.value.hideOpenRouterFree||l.value.hideOpenRouterAuto);async function _(){await V.settings.get("main")?await V.settings.update("main",{hideOpenRouterFree:l.value.hideOpenRouterFree,hideOpenRouterAuto:l.value.hideOpenRouterAuto}):await V.settings.add({id:"main",version:1,initialized:!0,hideOpenRouterFree:l.value.hideOpenRouterFree,hideOpenRouterAuto:l.value.hideOpenRouterAuto}),n("save",l.value)}function g(){n("cancel")}return(R,o)=>{const C=x("a-checkbox"),A=x("a-button");return u(),k("div",fs,[o[10]||(o[10]=e("div",{class:"settings-header"},[e("h3",null,"OpenRouter Privacy Settings"),e("p",null,"Configure how OpenRouter models appear in your model list")],-1)),e("div",gs,[i(w(_e),{class:"warning-icon"}),o[2]||(o[2]=e("div",{class:"warning-content"},[e("h4",null,"About Free Models"),e("p",null,[v(" OpenRouter offers some models for free. However, "),e("strong",null,"your prompts and responses may be used to improve these models"),v(". Free models are rate-limited and should not be used for sensitive data. ")])],-1))]),e("div",hs,[e("label",ys,[i(C,{checked:l.value.hideOpenRouterFree,"onUpdate:checked":o[0]||(o[0]=r=>l.value.hideOpenRouterFree=r)},{default:c(()=>o[3]||(o[3]=[e("div",{class:"option-content"},[e("strong",null,"Hide free models"),e("span",{class:"option-desc"},"Free models may use your data for training")],-1)])),_:1,__:[3]},8,["checked"])]),e("label",_s,[i(C,{checked:l.value.hideOpenRouterAuto,"onUpdate:checked":o[1]||(o[1]=r=>l.value.hideOpenRouterAuto=r)},{default:c(()=>o[4]||(o[4]=[e("div",{class:"option-content"},[e("strong",null,"Hide Auto Router"),e("span",{class:"option-desc"},"Auto Router automatically selects models, making costs unpredictable")],-1)])),_:1,__:[4]},8,["checked"])])]),e("div",ks,[e("h4",null,"Models that will be "+h(m.value?"hidden":"shown")+":",1),e("div",ws,[l.value.hideOpenRouterFree?(u(),k("div",Cs,[i(w(se)),o[5]||(o[5]=v(" All free models (pricing = $0) "))])):I("",!0),l.value.hideOpenRouterAuto?(u(),k("div",bs,[i(w(se)),o[6]||(o[6]=v(" openrouter/auto (meta-model router) "))])):I("",!0),m.value?I("",!0):(u(),k("div",Ss,[i(w(X)),o[7]||(o[7]=v(" All OpenRouter models will be shown "))]))])]),e("div",$s,[i(A,{onClick:g,size:"large"},{default:c(()=>o[8]||(o[8]=[v(" Cancel ")])),_:1,__:[8]}),i(A,{type:"primary",onClick:_,size:"large"},{default:c(()=>o[9]||(o[9]=[v(" Save Settings ")])),_:1,__:[9]})])])}}}),Os=K(Ms,[["__scopeId","data-v-6d09c773"]]),xs={class:"wizard-provider-config"},Ps={class:"provider-header"},zs={class:"provider-icon"},As={key:0,class:"api-key-stage"},Is={class:"help-link"},Rs=["href"],Ws={class:"stage-actions"},Ts={key:1,class:"ollama-check-stage"},Es={class:"ollama-info"},Fs={class:"ollama-manager-wrapper"},Ds={class:"stage-actions"},Ns={key:2,class:"model-select-stage"},Ls={class:"model-select-option"},Bs={class:"model-name"},Us={key:0,class:"model-cost"},qs={key:0,class:"test-preview"},Vs={class:"test-info"},Gs={class:"info-item"},Ks={key:0},Hs={key:1},js={class:"stage-actions"},Ys={key:3,class:"testing-stage"},Qs={class:"test-status"},Xs={key:4,class:"results-stage"},Zs={class:"test-details"},Js={class:"detail-item"},eo={class:"response-text"},to={class:"detail-item"},so={class:"detail-item"},oo={key:0,class:"detail-item"},no={key:5,class:"openrouter-settings-stage"},io={key:6,class:"models-stage"},ao={class:"stage-actions"},lo=G({__name:"WizardProviderConfig",emits:["continue","complete"],setup($,{emit:p}){const n=p,l=j(),m=ye(),_=Be(),{modelsByProvider:g}=ke(),R=new Ve(b=>_.startTrialWithStreaming(b)),o=F("api-key"),C=F(""),A=F(""),r=F([]),a=F(""),f=W(()=>[...g.value[d.value]||[]].sort((O,E)=>{var ee,Q;const z=(ee=O.capabilities)==null?void 0:ee.inputCostPerToken,U=(Q=E.capabilities)==null?void 0:Q.inputCostPerToken;return z!==void 0&&U!==void 0?z-U:z!==void 0&&U===void 0?-1:z===void 0&&U!==void 0?1:(O.displayName||O.modelId).localeCompare(E.displayName||E.modelId)}).map(O=>{var E,z;return{id:O.id,modelId:O.modelId,name:O.displayName||O.modelId,inputCost:(E=O.capabilities)!=null&&E.inputCostPerToken?O.capabilities.inputCostPerToken*1e6:void 0,outputCost:(z=O.capabilities)!=null&&z.outputCostPerToken?O.capabilities.outputCostPerToken*1e6:void 0}})),M=F({success:!1}),y={"openai-chat":"gpt-4.1-nano-2025-04-14","openai-responses":"gpt-4.1-nano-2025-04-14",anthropic:"claude-3-haiku-20240307",openrouter:"mistralai/mistral-nemo","ollama-chat":"llama3.2"},d=W(()=>l.currentProviderId||""),S=W(()=>a.value||y[d.value]||"unknown");function s(b,t){var z,U;const O=b.toLowerCase();return(((z=t.label)==null?void 0:z.toLowerCase())||((U=t.value)==null?void 0:U.toLowerCase())||"").includes(O)}function T(){const b=f.value.find(t=>t.modelId===a.value);return!b||b.inputCost===void 0||b.outputCost===void 0?null:{inputCost:b.inputCost,outputCost:b.outputCost}}const q=W(()=>{const b=d.value;return{"ollama-chat":{name:"Ollama",icon:"🦙",group:"ollama"},anthropic:{name:"Anthropic",icon:"🧠",group:"anthropic"},openrouter:{name:"OpenRouter",icon:"🌐",group:"openrouter"},"openai-chat":{name:"OpenAI Chat",icon:"🤖",group:"openai"},"openai-responses":{name:"OpenAI Responses",icon:"🤖",group:"openai"}}[b]||{name:"Unknown",icon:"❓",group:"unknown"}}),P=W(()=>q.value.name),N=W(()=>q.value.icon),oe=W(()=>q.value.group),we=W(()=>{const b=l.providerQueue;return l.currentProviderIndex<b.length-1});function Ce(){return{anthropic:"https://console.anthropic.com/account/keys",openrouter:"https://openrouter.ai/keys","openai-chat":"https://platform.openai.com/api-keys","openai-responses":"https://platform.openai.com/api-keys"}[d.value]||"#"}async function de(){if(d.value==="ollama-chat"){(g.value["ollama-chat"]||[]).length>0?(await Y(),o.value="model-select"):o.value="ollama-check";return}if(!C.value.trim()){A.value="API key is required";return}await m.setApiKey(oe.value,C.value.trim(),l.securityMode||"plaintext"),d.value==="openrouter"?o.value="openrouter-settings":o.value="model-select"}async function be(){var b;o.value="testing",A.value="";try{const t={provider:d.value,modelId:S.value,temperature:.7,stream:!1};d.value==="openai-chat"?t.max_completion_tokens=16:d.value==="openai-responses"?t.max_output_tokens=16:d.value==="anthropic"||d.value==="openrouter"?t.max_tokens=16:d.value==="ollama-chat"&&(t.num_predict=16);const O=await R.executePlaygroundCall("Hello! Please respond with a brief greeting.",t);if(O.ok){const E=O.value;M.value={success:!0,response:E.content||"Test successful",latency:E.latency,cost:((b=E.cost)==null?void 0:b.total)||0}}else throw O.error;o.value="results"}catch(t){M.value={success:!1,error:t.message||"Connection failed"},o.value="results"}}function Se(){d.value==="ollama-chat"?f.value.length>0||(o.value="ollama-check"):o.value="api-key"}function ne(){l.setProviderConfig(d.value,{testStatus:"skipped",enabledModels:[]}),l.nextProvider()?ue():n("complete")}async function $e(){const t={"openai-chat":"openai-defaults","openai-responses":"openai-defaults",anthropic:"anthropic-defaults"}[d.value];if(t)try{await Ge().applyList(t),await new Promise(E=>setTimeout(E,100))}catch(O){L.error(`Failed to apply ${t} list:`,O)}await xe(),o.value="models"}function Me(){o.value="model-select"}function Oe(){o.value="api-key"}async function xe(){const b=g.value[d.value]||[];if(r.value=b.filter(t=>t.enabled).map(t=>t.id),r.value.length===0){const t=b.slice(0,5).map(O=>O.id);r.value=t}}async function Pe(){await V.models.where("provider").equals(d.value).modify(b=>{b.enabled=r.value.includes(b.id),b.userModified=!0}),l.setProviderConfig(d.value,{apiKey:C.value,testStatus:"success",testResponse:{content:M.value.response||"",latency:M.value.latency||0,model:S.value},enabledModels:r.value}),l.nextProvider()?ue():n("complete")}function ue(){o.value=d.value==="ollama-chat"?"ollama-check":"api-key",C.value="",r.value=[],a.value="",M.value={success:!1},A.value="",Y()}async function Y(){var z;let b=0;for(;(!g.value||!g.value[d.value])&&b<20;)await new Promise(U=>setTimeout(U,100)),b++;const t=g.value[d.value]||[],O=y[d.value],E=t.find(U=>U.modelId===O);a.value=(E==null?void 0:E.modelId)||((z=t[0])==null?void 0:z.modelId)||""}async function ce(){await le().discoverModels({forceRefresh:!0}),await new Promise(O=>setTimeout(O,500)),(g.value["ollama-chat"]||[]).length>0?(await Y(),o.value="model-select"):te.error("No Ollama models found. Make sure you installed models using the manager above.")}async function ze(){await ce()}return Ue(()=>l.currentProviderId,async b=>{if(b){const t=await m.getApiKey(oe.value);t&&(C.value=t)}}),H(async()=>{if(d.value==="ollama-chat"){(g.value["ollama-chat"]||[]).length>0?o.value="model-select":o.value="ollama-check",await Y();return}await Y();const b=await m.getApiKey(oe.value);b&&(C.value=b)}),(b,t)=>{const O=x("a-input-password"),E=x("a-form-item"),z=x("a-button"),U=x("a-select-option"),ee=x("a-select"),Q=x("a-result"),Ae=x("a-space");return u(),k("div",xs,[e("div",Ps,[e("span",zs,h(N.value),1),e("h2",null,"Configure "+h(P.value),1)]),o.value==="api-key"?(u(),k("div",As,[i(E,{label:"API Key","validate-status":A.value?"error":"",help:A.value},{default:c(()=>[i(O,{value:C.value,"onUpdate:value":t[0]||(t[0]=B=>C.value=B),size:"large",placeholder:`Enter your ${P.value} API key`,onKeyup:qe(de,["enter"])},null,8,["value","placeholder"])]),_:1},8,["validate-status","help"]),e("div",Is,[e("a",{href:Ce(),target:"_blank"},[i(w(ae)),v(" How to get "+h(P.value)+" API key ",1)],8,Rs)]),e("div",Ws,[i(z,{onClick:ne,size:"large"},{default:c(()=>[v(" Skip "+h(P.value),1)]),_:1}),i(z,{type:"primary",onClick:de,size:"large",disabled:!C.value.trim()},{default:c(()=>t[5]||(t[5]=[v(" Test Connection ")])),_:1,__:[5]},8,["disabled"])])])):I("",!0),o.value==="ollama-check"?(u(),k("div",Ts,[e("div",Es,[t[8]||(t[8]=e("h3",null,"Ollama Needs Models",-1)),t[9]||(t[9]=e("p",null,"Ollama is running but no models are installed. Use the model manager below to install models:",-1)),e("div",Fs,[i(Ye,{onModelsUpdated:ze})]),e("div",Ds,[i(z,{onClick:ne,size:"large"},{default:c(()=>t[6]||(t[6]=[v(" Skip Ollama ")])),_:1,__:[6]}),i(z,{type:"primary",onClick:ce,size:"large"},{default:c(()=>t[7]||(t[7]=[v(" Continue with Installed Models ")])),_:1,__:[7]})])])])):I("",!0),o.value==="model-select"?(u(),k("div",Ns,[e("h3",null,"Select a model to test "+h(P.value),1),t[18]||(t[18]=e("p",null,"Choose which model to use for testing the connection:",-1)),i(ee,{value:a.value,"onUpdate:value":t[1]||(t[1]=B=>a.value=B),size:"large",placeholder:"Select a model to test",style:{width:"100%"},"show-search":"","filter-option":s},{default:c(()=>[(u(!0),k(J,null,Z(f.value,B=>(u(),D(U,{key:B.id,value:B.modelId},{default:c(()=>[e("div",Ls,[e("code",Bs,h(B.name),1),B.inputCost!==void 0?(u(),k("span",Us," $"+h(B.inputCost.toFixed(4))+"/1M in, $"+h(B.outputCost.toFixed(4))+"/1M out ",1)):I("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),a.value&&T()?(u(),k("div",qs,[t[15]||(t[15]=e("h4",null,"Test Details",-1)),e("div",Vs,[t[13]||(t[13]=e("div",{class:"info-item"},[e("strong",null,"Prompt:"),e("code",{class:"prompt-text"},"Hello! Please respond with a brief greeting.")],-1)),t[14]||(t[14]=e("div",{class:"info-item"},[e("strong",null,"Estimated tokens:"),e("span",null,"~10 input, 16 output (capped)")],-1)),e("div",Gs,[t[12]||(t[12]=e("strong",null,"Estimated cost:",-1)),T()?(u(),k("span",Ks,[v(" Input: $"+h((T().inputCost*10/1e6).toFixed(6)),1),t[10]||(t[10]=e("br",null,null,-1)),v(" Output: $"+h((T().outputCost*16/1e6).toFixed(6)),1),t[11]||(t[11]=e("br",null,null,-1)),e("strong",null,"Total: $"+h(((T().inputCost*10+T().outputCost*16)/1e6).toFixed(6)),1)])):(u(),k("span",Hs,"Free (local model)"))])])])):I("",!0),e("div",js,[i(z,{onClick:Se,size:"large"},{default:c(()=>t[16]||(t[16]=[v(" Back ")])),_:1,__:[16]}),i(z,{type:"primary",onClick:be,size:"large",disabled:!a.value},{default:c(()=>t[17]||(t[17]=[v(" Test Connection ")])),_:1,__:[17]},8,["disabled"])])])):I("",!0),o.value==="testing"?(u(),k("div",Ys,[e("div",Qs,[i(w(he),{spin:"",class:"test-spinner"}),e("p",null,"Testing connection with "+h(S.value)+"...",1),t[19]||(t[19]=e("p",{class:"test-detail"},"Sending test prompt...",-1))])])):I("",!0),o.value==="results"?(u(),k("div",Xs,[M.value.success?(u(),D(Q,{key:0,status:"success",title:`${P.value} Connected Successfully!`},{extra:c(()=>[e("div",Zs,[e("div",Js,[t[20]||(t[20]=e("strong",null,"Response:",-1)),e("div",eo,h(M.value.response),1)]),e("div",to,[t[21]||(t[21]=e("strong",null,"Model:",-1)),v(" "+h(S.value),1)]),e("div",so,[t[22]||(t[22]=e("strong",null,"Latency:",-1)),v(" "+h(M.value.latency)+"ms ",1)]),M.value.cost!==void 0&&M.value.cost>0?(u(),k("div",oo,[t[23]||(t[23]=e("strong",null,"Actual Cost:",-1)),v(" $"+h(M.value.cost.toFixed(8)),1)])):I("",!0)]),i(z,{type:"primary",onClick:$e,size:"large"},{default:c(()=>t[24]||(t[24]=[v(" Select Models ")])),_:1,__:[24]})]),_:1},8,["title"])):(u(),D(Q,{key:1,status:"error",title:`${P.value} Connection Failed`,"sub-title":M.value.error},{extra:c(()=>[i(Ae,null,{default:c(()=>[i(z,{onClick:t[2]||(t[2]=B=>o.value="api-key")},{default:c(()=>t[25]||(t[25]=[v(" Try Different Key ")])),_:1,__:[25]}),i(z,{onClick:ne},{default:c(()=>[v(" Skip "+h(P.value),1)]),_:1})]),_:1})]),_:1},8,["title","sub-title"]))])):I("",!0),o.value==="openrouter-settings"?(u(),k("div",no,[i(Os,{onSave:Me,onCancel:Oe})])):I("",!0),o.value==="models"?(u(),k("div",io,[i(ms,{"provider-id":d.value,"provider-name":P.value,"selected-models":r.value,"onUpdate:selectedModels":t[3]||(t[3]=B=>r.value=B)},null,8,["provider-id","provider-name","selected-models"]),e("div",ao,[i(z,{onClick:t[4]||(t[4]=B=>o.value="results"),size:"large"},{default:c(()=>t[26]||(t[26]=[v(" Back ")])),_:1,__:[26]}),i(z,{type:"primary",onClick:Pe,size:"large"},{default:c(()=>[v(h(we.value?"Next Provider":"Complete Setup"),1)]),_:1})])])):I("",!0)])}}}),ro=K(lo,[["__scopeId","data-v-a1dab8a2"]]),uo={class:"wizard-environment"},co={class:"metrics-options"},po={class:"metric-card clickable"},vo={class:"metric-card clickable"},mo={class:"info-section"},fo={class:"info-box"},go={class:"step-actions"},ho=G({__name:"WizardEnvironment",emits:["continue","back"],setup($,{emit:p}){const n=p,l=j(),m=F({showWater:!0,showElectricity:!0});function _(){l.setEnvironmentalMetrics(m.value),n("continue")}function g(){n("back")}return H(()=>{m.value={showWater:l.environmentalMetrics.showWater,showElectricity:l.environmentalMetrics.showElectricity}}),(R,o)=>{const C=x("a-checkbox"),A=x("a-button");return u(),k("div",uo,[o[8]||(o[8]=e("div",{class:"step-header"},[e("h2",null,"Environmental Impact Tracking"),e("p",{class:"step-description"}," Choose which environmental metrics to display alongside cost estimates ")],-1)),e("div",co,[o[4]||(o[4]=e("div",{class:"metric-card always-on"},[e("div",{class:"metric-icon"},"🌍"),e("div",{class:"metric-info"},[e("h3",null,"CO₂ Emissions"),e("p",null,"Carbon dioxide emissions from model inference"),e("div",{class:"always-on-badge"},"Always Enabled")])],-1)),e("label",po,[i(C,{checked:m.value.showWater,"onUpdate:checked":o[0]||(o[0]=r=>m.value.showWater=r),class:"metric-checkbox"},{default:c(()=>o[2]||(o[2]=[e("div",{class:"metric-content"},[e("div",{class:"metric-icon"},"💧"),e("div",{class:"metric-info"},[e("h3",null,"Water Usage"),e("p",null,"Water consumption for data center cooling")])],-1)])),_:1,__:[2]},8,["checked"])]),e("label",vo,[i(C,{checked:m.value.showElectricity,"onUpdate:checked":o[1]||(o[1]=r=>m.value.showElectricity=r),class:"metric-checkbox"},{default:c(()=>o[3]||(o[3]=[e("div",{class:"metric-content"},[e("div",{class:"metric-icon"},"⚡"),e("div",{class:"metric-info"},[e("h3",null,"Energy Consumption"),e("p",null,"Electricity usage for model computation")])],-1)])),_:1,__:[3]},8,["checked"])])]),e("div",mo,[e("div",fo,[i(w(Ke),{class:"info-icon"}),o[5]||(o[5]=e("div",{class:"info-content"},[e("h4",null,"Why track environmental impact?"),e("ul",null,[e("li",null,"AI models consume significant computational resources"),e("li",null,"Understanding environmental costs helps make informed decisions"),e("li",null,"Choose efficient models when appropriate for your use case"),e("li",null,"Consider batching requests to reduce overhead")])],-1))])]),e("div",go,[i(A,{onClick:g,size:"large"},{default:c(()=>o[6]||(o[6]=[v(" Back ")])),_:1,__:[6]}),i(A,{type:"primary",onClick:_,size:"large"},{default:c(()=>o[7]||(o[7]=[v(" Continue ")])),_:1,__:[7]})])])}}}),yo=K(ho,[["__scopeId","data-v-edfce270"]]),_o={class:"wizard-complete"},ko={class:"completion-header"},wo={class:"success-animation"},Co={class:"setup-summary"},bo={class:"summary-grid"},So={class:"summary-card"},$o={class:"card-content"},Mo={class:"card-description"},Oo={class:"summary-card"},xo={class:"card-content"},Po={class:"card-description"},zo={class:"summary-card"},Ao={class:"card-content"},Io={class:"card-description"},Ro={class:"summary-card"},Wo={class:"card-content"},To={class:"card-description"},Eo={key:0},Fo={class:"next-steps"},Do={class:"destination-options"},No=["onClick"],Lo={class:"destination-icon"},Bo={class:"destination-content"},Uo={class:"destination-title"},qo={class:"destination-description"},Vo={class:"destination-indicator"},Go={class:"help-section"},Ko={class:"help-item"},Ho={class:"help-item"},jo={class:"help-item"},Yo=G({__name:"WizardComplete",props:{environmentalMetrics:{},nextDestination:{}},emits:["destination-changed"],setup($,{emit:p}){const n=$,l=p,m=j(),_=F(0),g=[{id:"playground",icon:"🎮",title:"Playground",description:"Quick testing with individual prompts and models"},{id:"models",icon:"🤖",title:"Models",description:"Browse and manage available AI models"},{id:"templates",icon:"📝",title:"Templates",description:"Create systematic prompt testing designs"},{id:"home",icon:"🏠",title:"Home",description:"Start from the main dashboard"}],R=W(()=>{const r=[];return n.environmentalMetrics.showWater&&r.push("Water"),n.environmentalMetrics.showElectricity&&r.push("Energy"),r.join(" & ")}),o=W(()=>{switch(m.securityMode){case"encrypted":return"Encrypted with master password";case"session":return"Session-only storage";case"plaintext":return"Plaintext storage";default:return"Not configured"}}),C=W(()=>{const a=Object.entries(m.providerConfigs).filter(([M,y])=>y.testStatus==="success");if(a.length===0)return"No providers configured";const f=a.map(([M])=>({"ollama-chat":"Ollama",anthropic:"Anthropic",openrouter:"OpenRouter","openai-chat":"OpenAI Chat","openai-responses":"OpenAI Responses"})[M]||M);return`${f.length} provider${f.length>1?"s":""}: ${f.join(", ")}`});function A(r){l("destination-changed",r)}return H(async()=>{const r=await V.models.where("enabled").equals(!0).count();_.value=r}),(r,a)=>(u(),k("div",_o,[e("div",ko,[e("div",wo,[i(w(X),{class:"success-icon"})]),a[0]||(a[0]=e("h2",null,"Setup Complete!",-1)),a[1]||(a[1]=e("p",{class:"completion-message"}," You've successfully configured Auditomatic Lite. You're ready to start testing AI models. ",-1))]),e("div",Co,[a[11]||(a[11]=e("h3",null,"What You've Set Up",-1)),e("div",bo,[e("div",So,[a[3]||(a[3]=e("div",{class:"card-icon"},"🔒",-1)),e("div",$o,[a[2]||(a[2]=e("div",{class:"card-title"},"Security",-1)),e("div",Mo,h(o.value),1)])]),e("div",Oo,[a[5]||(a[5]=e("div",{class:"card-icon"},"🤖",-1)),e("div",xo,[a[4]||(a[4]=e("div",{class:"card-title"},"AI Providers",-1)),e("div",Po,h(C.value),1)])]),e("div",zo,[a[7]||(a[7]=e("div",{class:"card-icon"},"📊",-1)),e("div",Ao,[a[6]||(a[6]=e("div",{class:"card-title"},"Models Ready",-1)),e("div",Io,h(_.value)+" models enabled",1)])]),e("div",Ro,[a[10]||(a[10]=e("div",{class:"card-icon"},"🌍",-1)),e("div",Wo,[a[9]||(a[9]=e("div",{class:"card-title"},"Environmental Tracking",-1)),e("div",To,[a[8]||(a[8]=v(" CO₂ tracking enabled ")),r.environmentalMetrics.showWater||r.environmentalMetrics.showElectricity?(u(),k("span",Eo," + "+h(R.value),1)):I("",!0)])])])])]),e("div",Fo,[a[12]||(a[12]=e("h3",null,"Where would you like to start?",-1)),e("div",Do,[(u(),k(J,null,Z(g,f=>e("div",{key:f.id,class:ie(["destination-card",{active:r.nextDestination===f.id}]),onClick:M=>A(f.id)},[e("div",Lo,h(f.icon),1),e("div",Bo,[e("div",Uo,h(f.title),1),e("div",qo,h(f.description),1)]),e("div",Vo,[r.nextDestination===f.id?(u(),D(w(X),{key:0})):I("",!0)])],10,No)),64))])]),a[16]||(a[16]=ge('<div class="getting-started-tips" data-v-67ee3483><h4 data-v-67ee3483>💡 Getting Started Tips</h4><div class="tips-grid" data-v-67ee3483><div class="tip-item" data-v-67ee3483><span class="tip-number" data-v-67ee3483>1</span><span class="tip-text" data-v-67ee3483>Start with the Playground for quick model testing</span></div><div class="tip-item" data-v-67ee3483><span class="tip-number" data-v-67ee3483>2</span><span class="tip-text" data-v-67ee3483>Create Templates for systematic prompt testing</span></div><div class="tip-item" data-v-67ee3483><span class="tip-number" data-v-67ee3483>3</span><span class="tip-text" data-v-67ee3483>Use Variable Lists to test multiple inputs</span></div><div class="tip-item" data-v-67ee3483><span class="tip-number" data-v-67ee3483>4</span><span class="tip-text" data-v-67ee3483>Check Models page to browse available options</span></div></div></div>',1)),e("div",Go,[e("div",Ko,[i(w(ae),{class:"help-icon"}),a[13]||(a[13]=e("span",null,"Need help? Check the getting started guide or hover over any ⓘ icon throughout the app.",-1))]),e("div",Ho,[i(w(Qe),{class:"help-icon"}),a[14]||(a[14]=e("span",null,"All your data is stored locally in your browser for complete privacy.",-1))]),e("div",jo,[i(w(Xe),{class:"help-icon"}),a[15]||(a[15]=e("span",null,"Remember to export your data regularly as a backup.",-1))])])]))}}),Qo=K(Yo,[["__scopeId","data-v-67ee3483"]]),Xo={class:"wizard-fullscreen"},Zo=G({__name:"WizardView",setup($){const p=je(),n=j(),l=ye(),m=W(()=>l.hasSetupApiKeySecurity()),_=W(()=>{switch(n.currentStep){case 0:return!0;case 1:return m.value;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return!1;default:return!1}});function g(){n.nextStep()}function R(){n.previousStep()}function o(){p.push("/")}async function C(){try{await l.legacy.setEnvironmentalCosts(!0),await n.completeWizard();const d=n.nextDestination;switch(d){case"playground":p.push("/playground");break;case"models":p.push("/models");break;case"templates":p.push("/templates");break;default:p.push("/")}L.info("Wizard completed successfully",{destination:d,environmentalMetrics:n.environmentalMetrics})}catch(d){L.error("Failed to complete wizard",d)}}async function A(){L.info("Security setup ready, running model discovery"),await le().discoverModels({forceRefresh:!0}),n.nextStep(),L.info("Discovery complete, advancing to providers")}function r(){n.providerQueue.length>0?(n.startProviderConfiguration(),n.nextStep()):y()}function a(){L.info("Provider configuration continuing")}function f(){n.goToStep(4),L.info("All providers configured, moving to environment metrics")}function M(){n.goToStep(5),L.info("Environment metrics configured, moving to complete")}function y(){n.goToStep(5),L.info("Skipping to complete step")}return H(()=>{n.showWizard(),L.info("Wizard view mounted",{currentStep:n.currentStep,hasCompletedWizard:n.hasCompletedWizard})}),He(()=>{n.hideWizard()}),(d,S)=>(u(),k("div",Xo,[i(ct,{"data-wizard-active":"","current-step":w(n).currentStep,"total-steps":w(n).totalSteps,"can-go-next":_.value,"can-go-back":w(n).canGoBack,"completed-steps":w(n).completedSteps,onNext:g,onBack:R,onClose:o,onComplete:C},{default:c(()=>[w(n).currentStep===0?(u(),D(yt,{key:0,onContinue:g})):w(n).currentStep===1?(u(),D(zt,{key:1,onSecurityReady:A})):w(n).currentStep===2?(u(),D(ss,{key:2,onContinue:r,onSkip:y})):w(n).currentStep===3?(u(),D(ro,{key:3,onContinue:a,onComplete:f})):w(n).currentStep===4?(u(),D(yo,{key:4,onContinue:M,onBack:R})):w(n).currentStep===5?(u(),D(Qo,{key:5,"environmental-metrics":w(n).environmentalMetrics,"next-destination":w(n).nextDestination,onDestinationChanged:w(n).setNextDestination},null,8,["environmental-metrics","next-destination","onDestinationChanged"])):I("",!0)]),_:1},8,["current-step","total-steps","can-go-next","can-go-back","completed-steps"])]))}}),cn=K(Zo,[["__scopeId","data-v-6dc5c6fa"]]);export{cn as default};
