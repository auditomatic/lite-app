import{u as p,f,O as v}from"./utils-vendor-X1Ah6TN4.js";import{s as i}from"./vue-vendor-BZxY9vkr.js";function b(s,l={}){const{initialValue:u,onError:o}=l,e=i(null),t=i(!0);return{data:p(f(s()).pipe(a=>new v(r=>{const m=a.subscribe({next:n=>{e.value=null,t.value=!1,r.next(n)},error:n=>{e.value=n instanceof Error?n:new Error(String(n)),t.value=!1,o==null||o(e.value),r.error(n)},complete:()=>{t.value=!1,r.complete()}});return()=>m.unsubscribe()})),{initialValue:u}),loading:t,error:e}}function O(s,l,u={}){const o=new v(e=>{const t=s(),c=f(t).subscribe({next:a=>{try{const r=l(a);e.next(r)}catch(r){e.error(r)}},error:a=>e.error(a),complete:()=>e.complete()});return()=>c.unsubscribe()});return b(()=>o,u)}export{b as a,O as u};
