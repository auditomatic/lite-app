import{u as e}from"./settings-db-DPXf-dkT.js";import{p as a}from"./registry-CxBFHTQE.js";import{d as l,f as t,c as s,o as i,Z as n,Y as r,k as d,X as o,U as u,W as c,F as v,a6 as m,S as p,a5 as g,G as y,_ as f}from"./vendor-l9j4AUWK.js";import{_ as h}from"./index-ezfvrly5.js";import"./db-CL8uhZCz.js";import"./logger.service-_k__GSpu.js";const b={class:"settings-view full-width"},_={class:"api-key-label"},k={class:"provider-info spacing-top-xs"},w={class:"text-secondary"},x={class:"text-secondary"},z={class:"provider-label"},P=h(l({__name:"SettingsView",setup(l){const h=e(),P=t([]),C=[{title:"Provider",dataIndex:"name",key:"name",width:150},{title:"Value",key:"input",width:100,align:"center"},{title:"Slider (1-64)",key:"slider",width:200,align:"center"}],I=s(()=>P.value.map(e=>{return{id:e.id,name:e.name,concurrency:(a=e.id,h.getProviderConcurrency(a)||S(a)),enabled:K(e.id)};var a})),j=s(()=>h.apiKeyGroups);function A(e){const a=P.value.find(a=>a.id===e);return a?.api.baseUrl||""}function K(e){return h.isProviderEnabled(e)}function S(e){const a=P.value.find(a=>a.id===e);return a?.execution?.defaultConcurrency||4}function U(e,a){h.setProviderConcurrency(e,a)}return i(async()=>{await a.waitForReady();const e=a.getAllProviders();e.length,e.map(e=>e.id),P.value=[...e],P.value.length}),(e,a)=>{const l=u("a-tag"),t=u("a-alert"),s=u("a-input-password"),i=u("a-form-item"),S=u("a-col"),E=u("a-row"),L=u("a-form"),O=u("a-card"),T=u("a-switch"),B=u("a-input"),F=u("a-input-number"),G=u("a-slider"),V=u("a-table");return c(),n("div",b,[a[2]||(a[2]=r("div",{class:"settings-header"},[r("h2",null,"Settings"),r("p",{class:"description"},"Configure API keys and provider settings for scientific model testing")],-1)),d(O,{title:"API Keys",class:"settings-card",size:"small"},{extra:o(()=>[d(l,{color:"green",size:"small"},{default:o(()=>[y(g(Object.values(j.value).filter(e=>e.hasKey).length)+" / "+g(Object.keys(j.value).length)+" configured ",1)]),_:1})]),default:o(()=>[d(t,{message:"Local Storage Only: API keys are stored locally in your browser and are never sent to auditomatic.org. API Keys only leave your browser as authentication to external LLM API providers, via encrypted HTTPS.",type:"info","show-icon":"",class:"spacing-bottom-md"}),d(L,{layout:"vertical",size:"small"},{default:o(()=>[d(E,{gutter:[16,16]},{default:o(()=>[(c(!0),n(v,null,m(j.value,e=>(c(),p(S,{key:e.id,span:12},{default:o(()=>[d(i,null,{label:o(()=>[r("div",_,[y(g(e.name)+" ",1),e.hasKey?(c(),p(l,{key:0,color:"success",size:"small"},{default:o(()=>a[0]||(a[0]=[y("âœ“ Configured")])),_:1,__:[0]})):(c(),p(l,{key:1,color:"default",size:"small"},{default:o(()=>a[1]||(a[1]=[y("Not configured")])),_:1,__:[1]}))])]),default:o(()=>{return[d(s,{value:(a=e.id,h.getApiKey(a)||""),onInput:a=>function(e,a){const l=a.target.value;h.setApiKey(e,l)}(e.id,a),placeholder:`Enter ${e.name} API key`,autocomplete:"off",size:"small",visibilityToggle:!0},null,8,["value","onInput","placeholder"]),r("div",k,[r("small",w," Used by: "+g(e.providers.join(", ")),1)])];var a}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),d(O,{title:"Provider Endpoints",class:"settings-card",size:"small"},{extra:o(()=>[r("small",x,g(P.value.filter(e=>K(e.id)).length)+" enabled",1)]),default:o(()=>[d(L,{layout:"vertical",size:"small"},{default:o(()=>[d(E,{gutter:[16,16]},{default:o(()=>[(c(!0),n(v,null,m(P.value,e=>(c(),p(S,{key:e.id,span:12},{default:o(()=>[d(i,null,{label:o(()=>[r("div",z,[y(g(e.name)+" ",1),d(T,{checked:K(e.id),onChange:a=>{return l=e.id,t=a,void h.setProviderEnabled(l,t);var l,t},size:"small"},null,8,["checked","onChange"])])]),default:o(()=>{return[d(B,{value:(a=e.id,h.getBaseUrl(a)||""),onInput:a=>function(e,a){const l=a.target.value;h.setBaseUrl(e,l)}(e.id,a),placeholder:A(e.id),disabled:!K(e.id),size:"small"},null,8,["value","onInput","placeholder","disabled"])];var a}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),d(O,{title:"Concurrency Settings",class:"settings-card",size:"small"},{default:o(()=>[d(V,{columns:C,"data-source":I.value,pagination:!1,size:"small",class:"scientific-table","row-key":"id"},{bodyCell:o(({column:e,record:a})=>["input"===e.key?(c(),p(F,{key:0,value:a.concurrency,onChange:e=>U(a.id,e),min:1,max:64,disabled:!a.enabled,size:"small",style:{width:"80px"}},null,8,["value","onChange","disabled"])):f("",!0),"slider"===e.key?(c(),p(G,{key:1,value:a.concurrency,onChange:e=>U(a.id,e),min:1,max:64,disabled:!a.enabled,style:{width:"150px",margin:"0 auto"},size:"small"},null,8,["value","onChange","disabled"])):f("",!0)]),_:1},8,["data-source"])]),_:1})])}}}),[["__scopeId","data-v-8123661c"]]);export{P as default};
